제목: [NDC] 테라 콘솔 포팅기 - UE3 게임 현세대 콘솔로 이식하기

네 안녕하세요 테라 콘솔 코팅기 어렌지 3d 게임 현세대 콘솔 28기 라는 주제로 발표할 블루레이 예찬 이라고 합니다 반갑습니다 네 우선 테러에 대한 소개부터 해야겠네요 테라는 이제 프리 타게팅 mrtg 로 2007 년에 개발을 시작해서 2011 년에 한 게임을 서 통해서 서비스를 시작했구요 2016년 부터는 넥슨에서 서비스 라고 씁니다 현재 북미 유럽 등을 포함해서 총 8개 지역에서 7 년 째 서비스를 하고 있는 블루레이 간판 프로젝트 에요 그런데 오늘 발표 주제는 테라 쿤 소리죠 그 국내 서비스를 안에서 잘 모르실 수도 있는데 그 이번달에 런칭했습니다 4월 3일에 런칭을 했구요 플레이스테이션 포 와 엑스박스 원 의 동시 런칭 했습니다 그리고 블루 레자 외 4인 ms 엔터테인먼트 와 함께 국민 유럽에서 서비스를 하고 있습니다 이렇게 플레이스테이션 북미 스토어에 보면 을 올라와 있구요 엑스박스 스토어에서 올라와 있습니다 보시면 무료 게임 순위에서 둘다 포트 나이트 다음 이불까지도 갔었어요 예 어쨌건 국내 콘솔 프로젝트가 잘 없으니까 누군가에겐 도움이 될 것 같아서 저흰 어떻게 포팅을 했는지 공유하고자 이 발표를 준비했습니다 그래서 제 소개를 하자면 저는 2014년에 블로그에 입사했고 2년 동안 테러 라이브 소스 업무를 했습니다 부위 이제 콘솔 포팅 채 ft 를 만들어서 포팅 업무를 주도 했구요 네 제가 탭 테라 콘솔 팀의 창단 멤버 같은 거라서 이 발표하고 있는 겁니다 네 그렇지요 발표 내용은 두가지 인데요 첫째는 이제 기존 게임을 콘솔의 이식하고 자 할 때 어떻게 전략을 새롭게 된 이야기입니다 블루레이 어떻게 했는지를 가끔씩 공유 드릴 거구요 미들급 엔진이 않아 프로젝트 매니저 분들에게 도움이 될 거라고 생각이 됩니다 그 다음에는 이제 최적화에 대한 얘길 좀 하려고 하는데요 테러 콘솔 코팅액 과정에서 기술적으로 가장 어려운 부분이 최적화 했어요 그래서 그 이 부분을 특별히 챕터를 하려 했구요 이거는 그냥 얼려 엔진 개발자 분들께는 두루두루 소금이 될 거라고 생각이 드네요 이 발표에서 최적화는 메인 스레드 부분만 다릅니다 그래서 렌더 리스 레그 최적화에 대한 얘기는 이따 11시에 세션 있으니 발표도 이어서 들어주세요 4 목차입니다 말씀드렸듯이 테라 콘솔 개발 과정을 소개하고 그 다음에 최적화된 얘기 할게요 먼저 테라를 어쩌다가 콘솔을 코팅을 하게 됐고 뭐 어떻게 초기 전략을 세우는 지에 대한 얘기를 하겠습니다 이제 사건의 시작은 2015년 겨울이었는데 블로 에 잘 블로 레자 에서 해내면 센서 테이머 틀 나머지 제안을 했어요 저희가 잡은 게 아니고 저희 퍼블리셔가 제안을 했는데 그때 그 당시에 이제 내보인 터라 내 말 피즈 엑스박스 원 플랫폼으로 나는 데드 상당히 성공을 했거든요 이제 그걸 보고 우리도 해보자 라는 제안을 해 줬고 특히 이 포팅을 전문적으로 해주는 기술 업체들이 많아서 그냥 쉽게 타 클랩튼 서비스가 가능하다 라고 하길래 그래서 이제 검토를 쌀을 해 본 거죠 근데 이제 것 그 그래서 열심히 검색해 보는데 이 쉬운 일이 아니었어요 왜 패키지 게임 이라며 니까 온라인이 아닌 오프라인 tcg 게임 이라면 그냥 가능할 법도 한데 저희는 온라인 서비스를 지속적으로 할 거고 그러다 보니까 생기는 여러 문제들이 있더라구요 단순히 돈이 많이 된다 가 아니라 블로 레서 사람과 시간을 꽤 많 있어야지만 2 그 외 주 랑 같이 협업의 서포팅 될 것 같았어요 그리고 블루 른 게임 제작에 명소가 되는 것을 어쨌든 회사의 비전으로 삼고 있는데 그런데 핵심기술을 외주로 해결하는 게 제작에 명화가 날 방향 인가 라는 정체성 고민을 좀 했구요 그래서 기왕이면 직접 해보자 그게 회사가 발전하는 방향이 지 않을까 라는 생각이 들어서 그래서 이제 포팅을 직접 하기로 했습니다 그래서 이제 어느 날 몹시 흥분하고 여러분 얘기를 하다가 그 그냥 제가 회사에서 고민을 이렇게 하고 있을 때 제가 그냥 손을 들었어요 그랬더니 바로 자리를 만들어 주더라구요 그 그래서 이제 시작을 사실은 전자 하는 연구 프로젝트를 시작을 했어요 이렇게 시작을 했고 자 그래서 저는 어떻게 부팅할때 이제 고민을 하는데 그 어려운 엔진 쓰리는 플레이스테이션 쓰리랑 엑스박스 360 시절의 게임이 짓 이란 말입니다 그래서 이제 그리고 둘중 하나 줘 어려운 n3 를 그냥 어쩌다 거치거나 이걸 얼려 내 니퍼로 올리거나 둘중 하난데 일단 개발 자원을 고려 해야 되요 저는 그냥 혼자 하는 안 & 팀이고 그 테라 본 부랑 특히 아트 지원을 해 주기가 어려운 상황이었어요 좀 pc 테라 서비스를 하기도 힘든데 이 쿤 서포팅 하는데 이제 도움을 줄만한 미소속에 그러할 단계 어렵구요 얼른 진보로 간단 얘기는 얼려 렌 g3 의 아트리 소스를 그대로 어려운 짚어서 일대 만드는 거의 불가능 것 같구요 그래서 사실상 이제 아트 팀이 그냥 그 아들이 소스를 하나하나 노동집약적 으로 코팅을 하는 게 그 다음에 하실 적이 있는데 그렇게 한다고 하더라도 아트 퀄리티가 필연적으로 바뀌어 엔진이 바뀐다는 얘기는 그 얘기는 굉장히 강한 아트디렉터 미 필수불가결한 입니다 근데 저흰 그런 사람이 없죠 프로그램 방영 가평 들 그래서 어쩔수없이 태그 파워 만으로 코팅을 하려면 그냥 있는 엔진을 개전 수밖에 없었어요 그래서 저희는 이 방법을 있겠구요 다행히도 조사를 해보니까 얼려 벤젠스 변 서프 t 라는 게 있습니다 그 원랜 g3 는 2012년에 개발이 끝났어요 그래서 더 이상 업데이트 없었는데 그 이후에 에픽 게임즈가 외주를 줘서 하루 슬렉스 라는 회사가 플레이스테이션 포에서 걸어가는 걸린 이슬이를 그리고 아이언 갤럭시 라는 회사가 엑스박스 원 에서 돌아가는 얼려 내 니스를 만들어 놓은 게 있습니다 이건 이제 피 게임 g 의 요청을 하면 받을 보실 수 있구요 이 코드를 기반으로 제가 작업을 시작을 했어요 제가 맨땅에 헤딩 한건 아닙니다 입니다 그런데 테라를 커팅 하려고 보니까 다른 문제가 또 있더라구요 테라 는 2010년에 출시했다 보니까 그 얼려 엔진 업데이트를 중지한 상태 였어요 근데 얼려 엔진 쓰리는 2012년까지 그래서 업데이트가 있었던 말이야 그 2년 동안 보니까 에디터가 완전히 다르고 못해 칼이나 라이트 맵 이나 이런 것들에 대한 디테일 상당히 바뀌는 상황이었어요 그래서 이걸 단순히 플랫폼 레이어의 코드만 가져서 될 게 아니고 뭔가 3 크 다른 왠지 코까지 다 가져와야 지만 코팅이 될 것 같더라구요 그래서 여기서 또 생각을 바꿨습니다 그러니까 기존 테라를 개조 하자 해서 그냥 얼려 내진 쓰리 언 서 푸치 드에 다되고 테라를 빨리 사실 만들자 라는 방향으로 들었구요 저는 이 자서 잘했다고 생각이 들어요 또 이 잘 아마 반대로 했다면 뭔가 렌더링이 되게 하는 때까지 옮겼다는 걸렸을 텐데 이 방법을 선택해서 빨리 진행할 수 있었습니다 그래서 정리를 하면 일단 외주화 자체 개발에 대한 비교를 하자면 콘솔 포팅을 전문적으로 회사들이 많은 건 사실이에요 분명히 없어서 그렇지 그 해외 보면 많이 있고요 하지만 애매 rpg 에는 콘텐츠도 방대한 것도 있고 온라인 서비스를 지속할 거라는 점을 가정을 하면 이외 주가가 만만치 않아요 그래서 잘 판단해 보시면 좋을것 같고 그 와중에 이제 블루를 뭔가 직접 경험을 해보고 싶어서 이제 그래야 다음 게임 로봇으로 될 거 아닙니까 그래서 그 결 내재화 하고자 직접 하기로 선택을 했습니다 그리고 얼려 엔진 3d 게임을 코팅할 때는 얼려 내 점포 로 마이그레이션 하는게 물론 장기적으로 가장 좋아요 하지만 그럴 땐 아트 퍼가 많이 필요하고 그래서 테크 b 조의 팀이라면 그냥 얼려 벤젠스 비어서 4t 들을 활용하는 게 훨씬 사실적이다 라는 점을 알려 드리고 싶구요 테라는 엔진 명령 점이 많아서 게임을 다시 만들었지만 모임이 어려운 n3 최신으로 만든 게임을 포착 하신다면 머그 플랫폼의 위험한 그렇게 코팅해 오는 것도 가능할 것 같아요 그래서 이제 대략적인 초기 전략을 세웠으니 실제 저희가 2년 동안 어떻게 개발을 했는지를 알려드리겠습니다 그 퍼팅을 할 때 어떤 일들이 필요하고 어떤 식으로 비용이 들어 있는지 말이죠 그 한국의 꾸는 저희 마일스톤 을 정리해 봤는데요 2010 년 3 월에 시작을 해서 2018 년 4월에 런칭하는 2년짜리 달력 이에요 여기서 이제 주입 중요하게 보실 것은 2016년 12월에 처음으로 플레이스테이션 포에서 피해를 시작할 수 있었고 2017 년 9 월에 그 최적화를 마감하고 이제 팍스 의례 가서 시험을 했다는 게 있습니다 요 두개를 기점으로 저희의 개발 프로세서 이렇게 바뀐다고 보시면 되요 그 이 그림을 영조를 해주시고 이제는 이제 앞에서부터 다시 한달 한달 간격으로 저희가 어떤 일을 했는지 간략하게 소개를 드리겠습니다 그래서 그 오른쪽에 살려 기 있으니까 참고하세요 그 일단 처음에 제가 시작을 했을 때 얼려 내 진술이 연소 4t 들에 친해져야 줘 예 운 나쁘게도 제가 당시에 플레이스테이션 포에서 렌더링 쪽 sdk 가 좀 피격된 있었어요 그래서 그걸 마이그레이션 회원을 좀 시간이 걸렸고 어쨌건 센터 게임을 플레이스 점포의 불러보는 성공했어요 그래서 바로 테라를 이식을 하기 시작합니다 3 엔진의 테라를 다시 만든다는 이런 거예요 최소한의 기분만 제가 빨리 만들어서 어떻게든 플레이스 점포에서 엘린이 돌아다니는 것을 만든 거죠 그래서 이거를 저희팀 그 회사 동료 분들께 보여 드렸고 4 혼 서포팅 이 가능 하다 란 어떤 신호탄을 쏜 거죠 솜사탕 을 쌌어 이게 여기까지 혼자 밖에 안 걸렸어요 예 이거를 한달만에 보여줬고 그래서 이제 가능성 보였으니까 제가 그 테라 클라이언트 팀에서 두 명을 더 납치 옵니다 그래서 평이 됐고 그래서 한 명은 그 ui 와 이제 픽스 보니 좀 밖에 있으니까 그 버전 올리고 패드 이미 없게 만들고 하는 일을 했구요 이제 한 명은 지금 스트레스를 수 밖에 안되는 상황이 었으니까 뭐 스팅의 c 파티클 털의 뭐 이런것들 다리 소스를 로딩할 수 있게 후킹 도 되게 한 걸 조사를 합니다 그리고 저는 테라 컨텐츠 포트리 싹 이식을 해야 되죠 전부다 이식을 해 오고 오브 플레이 스테이션 포로 서버에도 붙일 수 있게 이런 작업들을 진행을 했습니다 이게 4월 5월에 진행이 된 거구요 근데 이제 얼추 작업이 되어 가는데 제가 갑자기 미국에 출장을 가게 되요 그 ms 엔터테인먼트 가 시스 시애틀의 있는데 거기에 이제 3시를 자리를 하나 만들고 두달동안 출장을 갑니다 왜 미국에 간다면 하셨었는데 무로부터 컨설팅을 받기로 했어요 그 아까 언 서 4t 트 애플 스포 버전의 맛 그 회사 고요 마치 쉐프 있습니다 그 얼 nms 엔터테인먼트 라 사무실도 받구요 그 코팅 전문 회사 되지만 엔지니어가 엔지니어가 수십 명의 있는 얼려 렌즈인 포팅 전문회사 고 5 코팅이 아니더라도 그냥 이거저거 가리지 않고 하는 기술 업체 에요 그래서 그 아예 전문가 한테 빠르게 배우자 모토로 담고 그 강 타 부서 미국으로 달았습니다 그러나 같구요 그래서 이제 팀이 두 개로 쪼개진 거에요 한국지엠은 남아서 ui 를 개발하고 썼구요 1 현재 위치도 풀 스포 빌드가 불안정한 상태니까 그 pc 테라 에서 그냥 개발로 보낸 씨를 따서 거기서 ui 만 만들었어요 뭐 쇼까지 멘토리 스킬이 이런걸 패드로 조작하기 쉽게 이런 ui 를 만들고 나중에 코스로 뭐지 하면 되니까 그렇게 ui 개발을 한국팀은 남아서 있었고 미국 팀은 가서 풀수 또 개발에 속도를 올리기로 했어요 그 하드 스스로 부터 실시간 컨설팅을 받아 가면서 그 실시간 질의응답 또 해주고 아이 저희 코드도 짜주고 좀 그런 식으로 거의 붙어서 1 하다시피 했구요 그러면서 이 때 굉장히 빠른 진도를 뺍니다 그리고 이 당시에 저희가 아직도 엑스박스 대비서 못 받았을 거에요 그래서 하우스 rf 한테 베스 박스에서 도의 지금 저희 플스 4b 를 다음 비슷한 수준까지 는 해달라고 그런 부탁을 했었어요 이렇게 이렇게 6월 7월 8월 보냈구요 이게 7월 쯤에 전반 자료 입니다 벌써 3대째 좀 해라 스러워 졌죠 이게 플렉스터 점포에서 찍은 거구요 보시면 뭐 mpc 가 좀 꺼멓게 보이고 이 캐릭터 세멘트 에머리 나무가 하나 있어야 되 요즘 스키드 트리가 안들어가서 없습니다 이런식으로 굳이 게 많았죠 찍게 많았는데 차트 3 도움을 받아가면서 굉장히 빨리 이런 것들을 한번 바로 빨리빨리 그쳐 나왔어요 이런식으로 진행이 됐고 해서 이제 8월 중순쯤에 이제 생강을 진도로 뽑은 에 한국으로 돌아와서 그 한국팀 ui 만들어 놓은것을 이제 합치 줘 그 엑스박스 본 작업을 해 주기로 했는데 이게 약간 늦었어요 그래서 여건은 밀어 졌고 일단 플레이스테이션 포에서 먼저 진행을 합니다 그래서 9월에 처음으로 알파 테스트를 해요 이게 사내에서 테스트할 때 보여줬던 거고 전부다 플레이스테이션 포에서 찍은 스크린샷입니다 실제로 테라 1 앱에서 10매까지 튤 10구간 늘 렉이 심한 번만 빼면 진행하는데 크게 문제가 없었구요 어쨌든 이제 여기까지 오는데 6개월 정도 걸린 거 에요 6개월만에 이정도 진도를 뽑을 수 있었고 그래서 이제 뭔가 가능성을 탐색하는 단계 는 끝났다 그래서 이제 제대로된 프로덕션 단계로 넘어가자 라는 준비를 하기 시작합니다 그래서 프로덕션 단계로 넘어간다 는 그런거예요 지금 저 필드는 자체인 컴터에서 맞는 것들이고 뭔가 자동으로 100 그 개발 l 레이 션의 돌리면 푼 소령 베프 프로세스를 만들어야 되고 뭐 이제 엑스박스 장터 멋 일을 해야 되고 저희는 북미 유럽 서비스를 할 거니까 영업으로 독일어에 대한 취향도 만들어 줘야 되고 그리고 슬슬 개정 인젠 같은 때 게는 작업도 시작해야죠 이런식으로 이제 치맥 규모를 늘리기 시작을 해요 이제 그리고 저의 목표는 이제 어떻게든 게임의 굴러가게 만드는 것에서 다른 사람들이 일을 할 수 있게 만들어주는 어제 우리 답이죠 이런 것으로 이제 9월 11월 12월을 이런 일들을 했어요 그 외에도 이제 몇 가지 추가 일들도 합니다 그 단기 ui 외주 팀을 후 해서요 그 ui 개발에 어 가속화를 합니다 eui 는 프로덕션 단계에 들어가 있는 상태 쓰니까 이걸 가능할 수 있다고 생각을 했구요 그리고 알파 테스트 하고 나니까 욕심이 생기더라구요 그래서 전투 포커스 지금 도착한 것 하나 만들었어요 그래서 주다니 로이터 레이 션을 계속 돌면서 이 태도로 전투하는 맛을 살리는 일을 이때 했구요 그리고 여전히 지퍼도 많으니까 그거 붙여 가면서 이런 작업들을 마무리를 합니다 그래서 이제 12월에 2차로 작업을 멋 일을 해요 처음으로 주가 지금까지는 작업 영광으로 pc 에서 키를 하셨고 처음으로 그 스퀘어의 이 자리에 테스트 버스도 없고 으 플레이스 정부에서 피해를 합니다 물론 결과가 이렇게 와이어 피해서 계층과 뺄 무더기로 그저 으 아직 안 되던 이야기가 많다 밀려 이런 리포터 건대 근데 저희는 게 여기를 다행이라고 생각했어요 케이스가 있잖아요 그러니까 튀다 플레이스테이션 코에서 해볼 수 있는 ui 드리미 있으니까 이제 이렇게 이 하고 그 동안 저희는 역대 있는 것들 고치면 되죠 그래서 아이 어쨌든 이제 개발이 터전을 보면 되겠다 그래서 이게 필수 할 수 있는 주셨는데요 그래서 이거 딱 리포트 보고 이제 팀 전체 같아요 연말까지 쉬었던 기억이 납니다 예 그래서 여기까지 프로 선생님 되서 이제 2017 년 새해가 팝 꼭 개발 사이클 이제 가능하니까 아이 프로그래머를 추가 영입을 해요 그래서 이제 진짜 제대로 하자 그래서 그 iou 막 다른 프로젝트 중인 테라 tera 때도 가서 도와달라 그래서 그 그 일을 벌입니다 그러면서 그 플랩 품 작업 뭐 trx 를 적 없고 이제 처음으로 챙기기 시작을 하는데 첼시 엑셀 한 마리 처음 나오죠 첼시 엑셀 이라 함은 ms 가 소니에서 만든 체크리스트 에요 이게 모바일에서 앱 심사 같은건데 이제 브 제출해서 심상과 점에서 특히 션 들어가서 보통 그리스도 이걸 통과를 해야지만 출시가 가능합니다 근데 이게 분량이 상당히 해야 할 일을 많단 말이에요 이거를 알아두면 좋을 팁 을 몇개의 방출 하면 있어 트 제출을 하면 보통 일주일 정도 걸리고요 그 이제 이건 온라인 게임이다 보니까 이제 테스트를 할때 필요한 도구를 제공해 줘야 돼요 이제 뭐 말로 께서 만들어주고 이런 것들 해줘야 되고 이 체크리스트는 면제 요청이 가능하지만 통과가 쉽지 않아요 그리고 설령 선거가 태도 굉장히 오래 걸립니다 그래서 미리미리 준비해야 되고 처음 하는 회사는 보통 내 5번은 떨어진다 고 경고를 받고 시작했어요 저희가 그리고 정말로 절어 더라구요 저희 글 저보다 더 많이 떨어졌어요 그 1 저거는 사실이구요 그리고 일 년 걸린다고 생각하고 미리 준비해라 라는게 이제 저희 폴딩 입니다 이게 아마 이미 콘솔 개발을 하고 계신 분들이 계시다면 여기에서 제일 어떻게 궁금하게 많으실텐데 제가 nj 문제로 발표에 담기는 곤란 하구요 차라리 개인적으로 연락을 주시면 뭔가 같이 얘기해 볼 수 있을것 같네요 그래서 자장가 넘어가고 그래서 이 crc xl 을 통발 해보자 솥을 평가를 해보자 를 다음 말씀으로 잡아요 그 3월 정도로 목표를 잡아서 이제 둘 다 동시에 털을 제출해 보고 물론 부화 중의 당연히 ur 개발 이제 끝내고 뭐 최적화도 좀 하고 뭐 당연히 버그는 고치고 해서 해보자 그래서 이런 승부 표를 불리던 돼요 이제서 트는 법 여권 떨어진다고 해도 그걸 계속 붙임 1 여름쯤에 출시를 하겠지 라는 생각대로 돌리던 되구요 그래서 이제 4월이 돼서 써 틀을 실제로 제출을 하고 이제 결과로 5월초에 받아가요 근데 그러나 당의 조사 페리 줘 때린데 한번 해보니까 자신감이 생기더라구요 그 리포트에 보면 친절하게 뭐가 문제고 어디로 어떻게 고쳐라 라고 써 있기 때문에 약간 하면 되요 그래서 아이템 샵에서 보면 되겠구나 라는 생각이 들었고 그런데 빨간 물이 다른 애석해 집니다 로딩 최적화를 이때 했는데 이 프레임이 여전히 심각하게 안났어요 그래서 아 이정도 퀄리티는 좀 출시를 할 수가 없다 컨텐츠를 다만 들어도 최적화 때문에 출시를 못하겠다는 생각이 들어서 왜 안양 하던 일을 멈추고 최적화에 총력을 다하기로 이때 결정을 합니다 5월에 이런 결정을 해요 그래서 5 5월에는 별 할 말이 없어요 그 올 부터는 5 6 7 8 9 월 정도까지는 그냥 모든 인원이 최적화로 했어요 프로그래머는 자체 적합 엑스포 ui 도 ui 로직을 초보라서 시작하려 해 주면서 컨텐츠 개발 진도는 거의 나가는 게 없어요 이때는 그러면서 최적화에 정말 모든 리소스 투자를 했구요 그래서 그 최적화에 대한 중간 정보 어머 9월쯤 해봤는데 제작 작가님께서 끝나지 않았어요 여전히 뭐 30프레임 왔다갔다 할 정도의 취득과 였는데 근데 어쨌든 가능성이 좀 보였어요 그러니까 프로그래머들이 좀 자신이 없는 상태였다 가 시작해서 크다 보니까 아 해 볼 수 있겠네 라는 생각이 들기 시작을 했구요 그 최적화가 덜 된 와중에도 확 쎄라 서 그 새로 만든 ui 나 이제 전투 조작성 에 대한 고객의 피드백을 처음으로 시험 하면서 받아봤는데 이때도 그 상당히 반응이 좋았어요 긍정적인 반응을 받아서 그래서 다시 인포 케로로 걸립니다 아 제작 타는지 할 수 있다고 가정을 꺼내고 다시 런칭 타이머를 돌리는 거에요 그래서 최적 탈의 열심히 하면 연말 전에 12 체를 하고 그래서 이제 대한 데 이어서 마련이지 2018 년 2018 년 초에 출시할 수 있겠다 많은 행복 표로 돌렸고 이거는 거실을 됐죠 그래서 이 9월을 기점으로 사실상 훨씬 단계에 들어갑니다 휴가 계획은 정말 중요한 건가 아니면 품질을 떨고 그러니까 이제 추가 객석 안 나는 거예요 버그만 고친다 라는 전라도로 가면서 이제 첼시 xr 통과가 잘 안 됐으니까 이제 그걸 열심히 하면서 그냥 작업을 해요 그 3 그저 기회를 주자는 게 되 게 중요해요 또 게임을 출시할 려면 에 저런 선택이 들어줘야 되는 자 그래서 이 때부터는 공유할 내용은 없구요 대한 풀이를 하면 되면 에서 다시 이 그래프로 돌아와서 정리해 봅시다 그 제가 이렇게 프리프로덕션 프로덕션 플래싱 단계 라고 말씀 드렸지만 사실 ui 프로덕션은 pc 브랜치 에서 작업을 하니까 더 빨리 할 수 있었어요 그래서 이렇게 개발 프라이 나를 할 수 있었고 그리고 trc xr 은 정말 인연이 걸렀다 4 이제 그 9월부터 폴리싱을 했지만 출시가 4월 로까지 한번은 물론 최적화가 절대 또 있지만 그냥 써 틀을 절약해서 떨어졌어요 비교좀 이것때문에 이건 정말 그 할 일이 많다 라는 점을 알려드리고 싶고 그리고 최적화 스케줄이 이렇게 들어가자고 이제 적화 멀티스레드 제작가 멀티쓰레드 최적화는 지금도 하고 있습니다 어제 가보셨어요 예 그 생 상태로 이거 어케 할 일이 많습니다 에서 이걸 정리를 하면 테라 폰 쏘는 총이 년 정부 아침 시작부터 수식할 2년 딱 걸렸구요 그 클라이언트 프로그래머 는 점자 시작해서 최대 5명까지 들었다가 지금은 6명이 상태입니다 그리고 하드 슬랩 에 컨설팅을 함으로써 초기에 말을 굉장히 빨리 가속할 수 있었구요 그 기존 pc 서비스 빌드를 적극 활용하면 y 개발을 미리 빨리 시작할 수 있어요 웬즈 빌드가 안 나오더라도 그리고 tr 시사회에서 걸리는 걸린다 이건 자 중에서 계속 반복적으로 말씀 드렸고요 예고 최적화는 저희가 예상치 못했던 장벽이 없고 얼려 엔진 세례를 안정적으로 멀티 쓰레드와 하는데만 거의 반년 걸렸어요 그래서 이거 그 얼려 낸 이슬이 로코 소를 가고 자신은 따른 프로젝트가 있으시다면 분명히 최적화의 벽을 많으십니다 그래서 저희는 받는 걸려 석순이 참가 실험 그 말씀을 드리는 거고요 그래서 이제 최적화된 얘기할게요 그 테라 콘솔은 지적한 문제가 없었다면 훨씬 빨리 출시할 수 있었다는 걸 아픈 설명 드렸잖아요 그래서 제가 세션 을 하려 한 거구요 누군가에겐 도움이 될 거라고 생각을 합니다 자 로딩에 대한 얘기를 먼저 할게요 그외 말 피즈가 다른 게임 하고 다른 점이 유저들의 정적 데이터 가 많다는 겁니다 어떤 플레이어가 어떤 옷을 입고 어떤 탈것에 타고 어떤 스킬을 쓸 지 알 수가 없다는 거 아닐까 미리 로딩을 해낼 수가 없어요 그래서 mmorpg 가 다른 게임 하고 다른 게 다 게임플레이 중에도 뭔가를 계속 노드 하고 있어요 이게 맴 rpg 설명입니다 그래서 이게 간헐적으로 프레임 드랍이 나는 이유에요 그리고 얼리 오렌지의 쓰리 에로 d 1개가 같이 껴 들어가는데 mmorpg 는 ui 가 많아서 ui 를 매물 해서 올려 놓을 수 없어요 저희 ui 를 동적 로딩을 하는데 그 그리고 얼려 오렌지 스리는 파일을 한번에 하나밖에 못 읽습니다 이것은 파일실행 라이즈 하는데 필요한 변수들을 상당히 많은 변수를 을 전합 연서를 쓰고 있어서 그런건데요 이 다른 파일을 로딩하고 있는데 ui 를 많이 옵션 한다 그럼 이건 프리징이 발생한 거에요 이것은 얼려 엔진 3d 게임의 고질적인 문제 고요 그리고 얼려 렌지 스레에서 비동기로 된 일 제대로 동작을 하지 못하는 이유입니다 이거를 그 테라의 이펙트 패키지 하나를 가지고 설명을 드릴께요 이제 테라 의 보면 이렇게 vfx a 라는 파일이 있고 여기 보면은 뭐 파티클 시스템 그 파티클 시스템 쓰는 매트리얼 그 쉐이더 그리고 텍스처 이런 것들이 들어 있겟죠 그러면서 그 하나의 파일에 여러 파티 그 시점이 들어있어요 이렇게 만들어 놨고 2 에게는 몇 백 개 파티를 스탭이 예요 파일 안에 들어 있습니다 이까 이렇게 아트리 소스가 있는데 얼려 렌지 쓰리는 로딩에 파이가 3개가 있어요 하나는 스태틱 놓 오브젝트 고 얘기는 하나의 u 오브젝트를 동기 로딩하는 거에요 맥은 피지의 걸려요 그리고 이건 하나의 오브젝트 링 거지만 로드 패키지는 항 수가 있어요 이것은 하나의 패키지를 동기로 다닙니다 파일 하나를 다 익을때까지 게임의 뜻인 걸요 이 두가지는 근데 이제 블랑 노드 기니까 실시간 있을 수가 없는 거잖아요 그래서 하나라서 있습니다 로드 팩 티저 싱그런 수가 있고 이것은 하나의 파일을 천천히 읽는 거예요 2 보통 이 함수를 쓰죠 그 게임에서는 이렇게 썼는데 지금 보면 그 으 u5 젝트 하나를 비동기로 있는 게 없잖아요 그 유우지 틀 1학기 동률을 위글 보려면 어떻게 하냐 에 대한 애틱 의 가이드는 그 유 베터 있는 파일을 읽어요 로드 획기적인 프로 그리고 제가 쓰려고 했던 것만 레터 나신을 합니다 그 다음에 지시를 볼래요 이게 그 얼 10 소품 언제 써 있는 방법인데요 그런데 gc 가 한번 걸리면 지시도 1 2초 정도 걸리던 말이야 이거 를 실시하는 우리는 물건의 아니죠 그래서 저희는 이 방법을 쓸 수가 없었어요 그 이래서 이제 테라 pc 는 저희 pc 테라 는 어떻게 해결을 했냐면 그냥 엔진을 개조 했어요 그냥 저희가 개조를 해서 하나를 만들었습니다 뭐 테라 로드 오브 데이터 싱크 라고 다시 에요 어떤 atl 하나 만드는게 있구요 이건 이제 u 오브젝트 하나를 더 파티 계실 땐 하나만 딱 골라서 비동기로 증언하는 어디로 만든 a 타입 1 있습니다 그래서 이거를 가지고 키 서비스 에서 최소한의 퍼포먼스를 버티고 있는 거구요 로딩 으로 인한 렉 자체는 어쩔 수 없는 거고 그 옷 잉 4개씩 안 을 짧게 하는 것에 주안점을 둔 거에요 이 방법으로 저희 pc 서비스는 그 해결했는데 이게 푼 솔로 포팅을 하니까 문제가 생겨요 그 식품 이란 개념이 생각을 등장을 합니다 얼려 내지 스레는 콘솔에서 시크 풀이 패키징을 강제로 해요 식스 프리가 먼지 설명을 드리면 예를 들어서 a 파일의 파티클 시스템이 b 파일의 매체를 인스턴스 를 쓴다고 과정을 합시다 애초에 이렇게 파일을 만들면 되지만 이렇게 가정을 할게요 그러면 pc 의 경우 저의 2 파트 a5 들에는 파티를 시스템 로드 하려고 하면 알아서 p 파일을 찾아서 읽어요 접할 더 점수가 필요하니까 결고 8 2개를 읽게 되는 셈이죠 근데 그 시크 프리로 특징을 하고 나면 저희 파일의 대응이 복사 되서 a 파일에 들어 갑니다 그러니까 이 방식은 뭐냐면 용량을 희생하고 로딩 속도를 올리는 거예요 이게 왜 얼 여래는 쓰리 가 콘솔에서 20% 를 강요 하냐면 광디스크 를 가정하고 있어서 그래 dvd 를 생각을 해보시면 dvd 시크 타임 물 정말 제 속셈 연수생들이 세컨으로 나옵니다 예를 들어 하드디스크는 12 미리 색 어느 정도 밖에 안 나요 근데 광주에서 끄는 여기에 그 순차적으로 만일 걸데 속도가 나오게 설계가 되어있는 저장장치 라서 2dvd 판매를 출시를 할 거라면 이게 정말 중요한 포인트인 해요 근데 이거 에 정말 문제는 그게 뭐냐면 파일 단위로만 읽을 수가 있게 되요 그 시크 프리 로 표기된 하면 소두 ata 저희가 만들어 놓은것 그 포함해서 이걸 못 쓰게 됩니다 항상 수 패키지를 읽어야 되요 그래서 테라 콘솔의 머스트 시나리오는 뭐냐면 다른 일정 옆에서 스킬을 쓰는데 그게 하필이면 그 fx 데이 8 비트를 수 없는 스킬 이펙트가 들어있는 뭐 스킬을 썼고 뭐 이미 스킬을 위해서 씨나 같겠지만 로딩이 시작했죠 그런데 그 과정에 보라돌이가 욕설을 하면 이제는 그 에프엑스의 이 파일에 들어있는 모든 이펙트를 다루어야 할 때까지 ui 가 안타요 이 게임이 프리징이 나고 그러니까 이거 가 저희 큰소리 처음에 겪은 굉장히 큰 기술적 난 졌구요 사실 이 문제에 대한 베스트 펠틱스 는 뭐냐면 애초에 하나의 파일이 너무 크지 않게 관리하는 거에요 예를 들어서 저점 또 예시 로 파일을 패키징을 했다면 아마 이런 문제가 크게 오지 않았을 텐데 그 pc 테라 에서는 오히려 그 유 오직 하나 귀 동기로 대하는 걸 만들어 나가지고 그거 믿고 좀 더 크게 만들어 놓은 거죠 그래서 얼리 어렌지 n3 가 사실 요 오브젝트 단의 비동기로 점이 지원하지 않는 이유가 이 거구요 애초에 그럴 필요가 없어야 된다 그래서 로딩에 목적 다 파일에 들어 있는 내용이 찾을수 로 사실 망자 해결된다 근데 이제 테라는 온 쪽이 너무 큰 상태였던 거죠 그래서 저희가 2 테라 콘솔은 어떻게 해결 했냐면 일단 제약 조건이 있었어요 아트리 소스를 당연히 고치는 게 정답 이지만 저희는 피씨라인 서비스 에서 계속해서 뭐지 를 해 오면서 콘솔의 라이 씁쓸할 거란 말입니다 그래서 아트리 소스를 고치며 안돼요 왜 이 전제가 깔려 있었어요 hrt 믿지도 않고 그런 상태에서 그러면 반대로 저희는 dvd 파멸 안 할 거니까 다운로드 컨텐츠 럼 할 거니까 그런 시크 프렌 않아 겐지는 붙여보자 란 생각이 들어서 제가 잠깐 시도했는데 일어 려면 모든 u 오브젝트 타입에 대해서 스킹 모집합 시리얼 로라이즈 로직을 다 손 봐야 되요 그래서 이게 쉽지 않더라구요 그 하드 슬렉스 하버드 얘기해 봤는데 이걸 하지 말라 그 속을 걸려 어렵다고 그래서 절 그 무리에 레이어를 하나 더 쌓아서 에 문제를 해결할 수 밖에 없었습니다 이걸 왜 자세히 설명을 드리면 먼저 이 파일 을 스윙을 하기 전에 패키지를 쪽이에요 그 원랜 이터 있는 린의 이미 라는 기능하고 유사하게 구매를 하시면 되는데 그냥 자동으로 파티클 시스템 하나가 한 파일에 들어가 게 무슨 리다이렉트 팔리지 숲에도 나오겠죠 이렇게 파일을 딱 소개 고요 쪼개진 파일 6 스킹 해요 그러면 또 특히 된 타이즈스타킹 1만 나오겠죠 그 그리고 또 시크 소리라서 연관된 구직자 나라 스타일의 들어가요 이렇게 매체를 인스턴스 이름을 따라 들어가고 이렇게 쪼개진 파일을 잡지를 한 다음에 이러면 이제 fsa 에서 마즈 속에 나오고 전체 저희 패키지 라면 이제 10만 개 정도 파일이 나오거든요 너무 많으니까 이 파일을 다시 하나로 칩니다 하나는 아니고 1 멸시 메가바이트 단위로 저희가 쌀 하긴 했어요 그렇게 이걸 다시 8 여러 파일을 하나의 파일로 하셨고 이렇게 간청 축사 키만 한 거예요 그렇게 컴포지트 파일로 만들어요 그러면 이걸 어떻게 하냐 매핑 테이블 1 관리 하는 거죠 이런식으로 매핑 테이블 하나 만들고 예시를 들면 웹팩스 amo 1번 첫번째 파트별 실습을 로딩 하려고 한다 그러면 저희가 코드 레벨에서 이 매핑 테이블을 보고 그 ddr x 파일에 있는 파티 시스템을 일거라고 잡아 꽂히는 거에요 호드를 버거 치고 그리고 또 파일 io 스레드로 요청해 갈껀데 5l 알고 쓰레드 해서 없는 그저 파일을 읽는 게 아니라 컴포 지파일 저희가 만들어 놓은거 에 특정 메모리 주소를 리턴하게 않았어요 그래서 이렇게 케이크를 두 번 치면 그 얼려 렌지 생각할 때는 작은 파일 하나를 로드 특히 조식 하는 것처럼 착각하게 만들 수 있어요 그래서 저희는 이렇게 문제를 해결 했구요 이렇게 하니까 뭐 단일 오브젝트에 대한 모든 속도는 사실 뭐 pc 보다 더 빨라질 정도로 에 문제 해결할 수 있었습니다 이렇게 열을 했구요 4 정리를 하면 그 mlp 제는 일단 오딘 퍼포먼스로 문제가 된다 그걸 알려주고 싶었던 거에요 얼려 된 g3 는 콘솔에서 시크 프리 를 강조하기 때문에 퍼포먼스가 더 나빠질 수도 있다 이 점을 알려드리고 싶었고 테라 콘솔은 pc 와 일관성을 유지해야 되서 이 소스 수정 할 수 없었고 그래서 별도의 리 디렉팅 기법을 만들어서 문제를 회피해 땀 된 점을 공유 드립니다 어쨌든 얼려 내니 3p 로 커서 로 가시면 씽크프리 때문에 당하실 수 있어요 그래서 뭐 이런 방법도 있다 라는 점을 보내드립니다 4 그리고 다음에는 메인 스레드를 최적화된 얘기할때 약 3주 여기가 하이라이트 줘 그 리소스 로딩 문제는 그나마 저희가 조개의 해결했지만 2벌 t3 최적화는 저희가 반년 넘게 걸렸어요 지금도 하고 있고 그 외에 대해서 e 개의 사실 저희 어떤 런칭 1.6 개발 일정에 가장 걸림돌이었던 말입니다 그래서 얼려 n3 게임으로 컷을 퍼팅을 만약에 하실 따름 소재 트가 있으시다면 이 최적화에 대한 일정과 플랜을 조기 잡으신 게 좋아요 저희는 몰랐으니까 이렇게 된겁니다 그래서 얘기를 해볼게요 자 현세대 그 콘솔의 cpu 스팩은 1점 ut 가 해치가 8 코어 있는 모습입니다 그 1.2 깨가 힐 칠하는 것은 요새 나오는 뭐 i5 i7 에 비하면 크로스가 절반밖에 안 돼요 그런 상황이고 얼려 렌지 쓰리는 코어가 2개만 돌아가는 패션 시절엔 진 이에요 그래서 2 멀티 스레드로 최적화를 빼앗는 서는 콘솔 환경에서 는 선택이 아니라 필수입니다 그리고 그래서 이거에 대한 이해를 돕기 위해 제가 얼려 엔진의 구조를 간략하게 설명 드리고 어떻게 병렬 할 건지 보여드릴게요 어려움 앤 g3 에 구조를 보면 얼레 랜스 린은 이렇게 자쿠로 2개 논다 그랬죠 쓰레드 두개가 있어요 웬수 레드 갖고 렌트해 스레드가 있어요 그 랜덤 n 설에 대해서 이렇게 로직을 박재찬 다음에 뭘 링커 에다가 라벤더 커맨드를 싸서 앤더 스레드가 볼 처리로 해요 라벤더 쓰레드 입장에서는 이전 틱 의 업데이트 정보를 가족 그리고 있는 거에요 이런식으로 얼려 내는 소리가 돌고 있구요 뭐 다른 쓰레드가 없는건 아니에요 이렇게 짜 자락에 쓰레드 들이 우진 한데 이 스레드는 사실 1개 불렀어요 그 숫양을 긴게 아니라서 그래서 생 애들 어려 렌지 쓰리는 홀 2.5 게 쓴다 라고 늘 말을 하죠 그래서 이 메인 스레드의 dr 최적화된 얘길 전 할 거니까 men's 레드를 주께서 볼게요 맨 쓰레드에서 일어나는 일들을 순차적으로 중요한 것만 써 봤구요 다시 설명드리면 일단 인 푸 세 대한 소리 해야죠 인수 처리를 하고 그 비동기로 리처 를 합니다 예 비동기 로딩 이웃 잉 스레드 따르는 게 아니라 그래 삶은 읽었다고 치고 그 파일에 있는 것이 리얼 라이즈를 조금씩 하는데 오딧세이 커는 넣은 3집은 언제 이제 이런 식으로 기둥 기롯 이부영 되어있구요 이제 월드 t 월드 측에서 실제로 레벨을 존재하는 모든 오브젝트 업데이트를 하죠 이제 당연히 제 1부 해요 월드 그 메인 스레드의 한 80% 오르지 이구요 이월드 tv 제작 가 대상입니다 그리고 그 다음에 벌어진 인터랙션 틱은 추 같이 처리가 필요한 모듈 들에 대한 이지요 각 모듈은 저희가 붙이기 나름인데 일단 저희가 기본적으로 쓰는것은 gfx ui 말하는 거구요 그 ui 에 대한 어 페 트 가 여기서 돌아요 그래서 6도 최적화를 좀 해야 돼요 그리고 마지막에 이제 리스로 b4 타는 건 이제 시렌 어린게 대하는 더 커맨드 생성 하는 거니까 요거는 뭐 그 최적화 애드 판 대상 합니다 그래서 입어두 찍게 대한 얘기를 할 건데요 4 으 으 t 를 위 하기 전에 얼려 레지스트리에 액터 컴포넌트 모델에 대해서 이해를 하셔야 되요 제가 간략하게 설명드릴께요 떨려 랜스 린의 월드 존재는 모든 오브젝트 넥 서브 그 액터 의 행동을 컴포넌트로 정의합니다 그러니까 실제로 액터 에는 어떤 함수가 제대로 견디는 게 들었구요 그 실제 생성자 컴포넌트 있어요 그래서 월드 t 게 하는 것은 실제로 이제 모든 렉터 를 업데이트 하는 건데 그 안에 파고 들면서 그 노즐 컴포넌트를 업데이트 하는 거에요 그래서 그 월드 튀게 하는 것은 결국 그냥 모든 컴포넌트에 대한 어쨌든 이런 꿈은 하나로 수상을 할 수 있구요 그래서 이거를 이해를 하시고 이 다음으로 넘어가면 이제 이월드 팁을 액체가 습도 3분 해서 보여드릴께요 이제 월드 t 근하게 6 단계 정도로 실행이 되는데 위의 3개의 직급이 중요합니다 애플의 싱크 드린 것이니까 포스터 쉴드 칩 3개 그룹이 있는데 매티 푸름이 3개 냐 면 요주의 머신 그 앞뒤로 피직스 레 들으신 거에요 그들이 머신 그전에 이제 픽스 크 쓰레드 1 실행을 하고 그들이 것인가 끝나면 는 싱크를 맞춰 요 이렇게 무슨 뜻이냐면 프리아 싱크 틱은 그러니까 물리 시뮬레이션 전에 무조건 해야 되는 거에요 그래서 이제 스태틱 스컬의 삶의 시 컴포넌트 들이 붙은 여기 들었구요 스킬렛 탈 메시의 업데이트해야 그 다음에 물이 충돌 연산을 할 거니까 이제 이 컷을 먼저 다 한 다음에 그 다음에 분리 시뮬레이션으로 동시에 해도 상관 없는 것들 보트 파티클을 비롯해서 대부분의 컨퍼런스는 둘이 머신 돼서 돌아요 그리고 윤리 시뮬레이션이 끝나야 지만 돌아야 되는걸 포스터 싱크로 빼는데 거의 해당하는 컴포넌트 없습니다 테라 일 경우에는 아이 저 들어오질 않네요 브레이크 소리 를 찍어보면 들어오질 않아요 그래서 전 무 실 해도 되구요 해서 저 프리아 싱크 들이 머신 그 두개가 제일 크고 적의 엔진 업데이트 핵심입니다 그리고 나 비테 세계에도 설명을 드리면 그 포스트 t 컴포넌트는 이제 그래서 뭔가 위치가 바뀐 컴포넌트가 있으면 o 트리의 더 호 빼고 하는 앤데 커맨드를 만드는데 이것두 께 부하 해요 그래서 이것도 최적화를 좀 했구요 그 다음에 이제 뭐 포스 업데이트나 이펙트 업데이트 했는데 메모리 정리 등의 어 수처리 만해요 그래서 이거는 프로파일에 검출이 되지 않아서 최적화 대상은 아닙니다 그래서 요렇게 월드 치기 진행된다 라는 점을 간략하게 설명을 드렸구요 그래서 이 그 다음에 이제 최적화에 전략을 얘기할게요 이제 여기서도 또 이제 전제 조건을 생각해 봐야 되는데 테라 푼 30 계속 말씀드리지만 지속적인 라이 서비스를 해야 되고 그래서 pc 라이브 없이 코드를 계속 가져야 되고 그 얘기에 는 기존 코드 구조가 좀 유지될 필요가 있어요 그래야 이제 작업자를 헷갈리지 않으니까 그리고 또 중요한 건 시간이 없었죠 빨리 변할 수 있는 방법으로 만들어야 됩니다 그래서 이럴 때는 호크 엔조이 정석 이에요 실제로 많은 게임 엔젤이 멀티 쓰레드를 처음 구입할 때 쓰는 방법이 폭행 조인 이구요 4k 조인에 대한 설명을 간략하게 드리면 이제 위키피디아에서 그러면 가졌는데 그냥 마스터 스레드가 이렇게 일을 하다가 그냥 막 태스크 패럴 라이즈가 가능할 것 같은 지점이 보면은 이제 병렬 아래 쭉 하고 매끈하게 기다린 다음에 또 다음으로 넘어가는 거에요 어이 첫 그림은 이야기 하십시오 이게 그 포크 앤 조이 4 장점은 변하기도 쉽고 이야기 도 싶다는 점이고 단점은 이렇게 스레드를 분배 하고 기다리는 시간이 있기 때문에 cpu 100% 생으로 절대로 않나요 그래서 정말 최적화에 끝을 가고 싶다고 할 때 선택하는 방법은 아니지만 저희는 시간 대비 어떻게 효율을 뽑기 위해서 이 방법을 사용했습니다 그리고 그 어쨌든 욕하 패러렐 라이즈 태스크가 끝나게 기다리는 게 조인식 아닌데 조인이 길어지며 는 병렬 안 하느니만 못 해요 그래서 고거 에 대한 주의를 하는 것 정도가 중요합니다 그래서 이제 실제 구현에 대한 예시를 하면 이해가 더 잘 되실 것 같은데 실제 부양을 해 볼게요 자 멀지 찍을 제가 간략하게 하면 이렇게 된다고 했죠 월드 책을 정말 추상화 모델을 편함 이렇게 된 거예요 모든 폰트 리스트 에 대한 업데이트 이게 월드 t 긴데 이거를 어떻게 병렬 하냐면 이렇게 하면 되요 그냥 앞뒤로 람다 캡처를 써서 그냥 머스크 태스크 매니저 제가 만든건 들 어디다가 떨어지면 실제 로맨스 렛 입장에서는 남자 급처 말곤 아무것도 안 했어요 실제로 지금 생 하지 않았죠 그래서 남 다크 처리해서 러시 테스터 매제 쏘게 만 했고 시크 태스크 매니저 는 이런 남자 자 비 올때마다 속하며 너무 많아서 한 30개 제가 휴 비슷하게 특징은 거예요 1 30 개 정도 보이면 복을 가지고 호크를 했어요 카스 레드를 발생 시킨 거죠 그런 식으로 이제 쓰러져 일축하고 이렇게 어쨌든 이런 식으로 그냥 뭔가 태스크를 할 부분을 찾아서 그냥 앞뒤로 바코드를 고치면 되서 기존 코드를 안 고쳐도 되요 이게 포크 앤 조이 4 가장 중요한 장점이구요 네 이렇게 구현하면 되고 그래서 이건 포크를 한거고 조이는 어떻게 하냐면 이월드 틱을 또 위에서 보면 직급이 바뀌는 거거든요 직급을 플러싱 토로해 놓고 티거 액터스 를 도래하여 치게 there's 아내가 져 아까 보여드린 포문을 돕는 거라고 보시면 되고 그 다음에 더 체크 로 바꾸고 도티 겠어 이런식으로 벌써 쓰기 생겼어요 그래서 측에서 싼 에서 포크 했으니까 요 밖에 나와서 바로 싱크로 보면 됩니다 이런식으로 제가 축가 코드를 넣으면 되고 그 싱크 함수는 내부에서 어떻게 생겼냐 면 이제 태스크 분명 것들 있잖아요 얘는 3 그냥 끝나길 기다리는 거예요 떠날 기다리는게 타고 그런데 어쿠스틱 기다리고 서 심심하니까 만약 시작도 못한 태스크가 있다면 그냥 받아서 자기도 해요 그런 식으로 구현이 되어 있고 그래서 모든 태스크가 정말로 끝났다면 이제는 모아서 콜백을 처리합니다 자 여기서 코맥 이란 말이 나왔는데 그 이렇게 하면 가동률 할 거냐 하면 되나요 그럴리가 없죠 그 쓰레드 3 타지 않은 로직을 뭔가 경매를 하다보면 2 분명히 크리티컬 섹션 덩어리들이 박 발견이 됩니다 자 예 싫어 나가 정도는 파티클 시스템 컴포넌트 찌게 수 반구의 있는 파이널 라이즈 하는 부분인데요 저 는 이제 내부적으로 컴포넌트를 삭제하고 매물을 정리하고 하는 일을 하기 때문에 변화의 좀 치워 저 에요 그래서 이런 로직이 만약에 발견이 되면 이것을 콜백 으로서 버리는 겁니다 아 또랑 캡처를 써요 야 이건 어제 워커스 에 대해서 실행되고 있다고 가정을 하고 이 변화가 불가능한 부분을 남자 프로 싸서 다시 맨 스레드를 던지는 겁니다 그래서 테스트가 끝난 다음에 보라 서 다시 실행을 해라 라는 식으로 알려주는 거고요 이런식으로 콜백을 빼면 되는데 그런데 콜백 이 너무 많아지면 주 2시간 길어 지는 거예요 그래서 쿨 102 정말 뭐가 콜백을 빼 난소가 또 쥐면 안되구요 만약 에코백 으로 배낭 손에 넘길 것 같으면 오직 자체를 고칠 각오로 해야되요 그런 예시가 제가 있긴 있었는데 여기서 설명 듯이 눈을 넘길 것 같아서 생각을 합니다 벌써 이렇게 컴백으로 빼고 또 다른 방법도 있어요 라고 쓸 수도 있죠 일어 이것은 또 역시 파티클 쪽에서 하나 가지고 계신데 이 그저 깊이 시스템 컴포넌트 저 전업 전염 컨테이너 에요 그래서 요거 가 이제 쓰레 쓰레 파지 않은데 여기가 실제로 재보면 그 자주 들어오는 함수는 아니에요 그래서 이럴 때는 그냥 간단하게 소스랑 쌓으면 됩니다 으 이런식으로 문제해결 수도 있구요 그 악을 쓰는 조건은 날은 컨 텐 션 이적을 때만 쓰는 거예요 펜션 이라는 말은 쓰레드 그 프레임 다 이제 막 에 걸리는 총 시간을 말하는 거고요 이런 지적 제 보시면 되요 이게 그냥 볕 마이크로 세컨드 일 때에만 라고 쓰시면 됩니다 그렇게 생각하시면 되구요 뭐 혹은 반대로 뭐 경험적으로 얘기라면 락이 없어도 게임이 불응 되고 그런 어쩌다가 그 제소 깨끗이 나는 정도라면 그 땐 악을 써도 된다 라고 인자 설명됩니다 그 근데 이제 뭐 라 를 썼을때 이제 컨텐츠 연이 길어 지는 예시는 모델의 들어 글로벌 컨테이너에 많이 모든 커버넌트 같아 접근을 하는 그룹을 컨테이너가 있다라고 하면 이 컨테이너 에는 라벨 싹이 가 좀 망설여 지겠죠 이런 경우에는 또 다른 후에 방법들이 있어요 이제 스레드로 8 컨테이너를 부어 따로 만들어서 각자 거기서 작업을 하다가 나중에 시크 마치 탑신은 것들이 있는데 하면서 또 스레드로 커리 란 말이 나왔죠 쓰레드로 걸음 뭐냐면 그 각 변수를 쓰릴 때마다 만들어 주는 거에요 이제 이것도 예시 1 가자는데 얼려 엔진은 이렇게 전역변수를 꽤 많습니다 이것은 과거에 대한 습관적 코딩 것 같은데 그 이 전 앞에서 사실 임시 병 세요 그 함수 쿠스타 넘겨주기 귀찮아서 이렇게 많은 같더라구요 그거를 이거는 이제 부르면 2000여 건의 접근하는 기술의 3 하지 않잖아요 이것을 스레드로 코코아를 앞에 선언을 해주면 접 연석산 스레드 마다 생깁니다 그래서 이렇게 대한 문제가 쉽게 해결되는 경우가 많구요 물론 이 작업을 하기 전에 저게 정말 전업 n 순지 임시 변수 엔진을 그 코드 8 화실 하셔야 되고 이 스레드로 칼은 꼭 이게 아니더라도 뭔가 쓰레드 세이프 하지 않는 모집을 쓰레드 sf 하고자 할 때 굉장히 유용합니다 여기서만 아이들 쓰실 나올 수 있어요 그래서 요구 8 어떤 팁으로 살려 드리고요 이런 방식 때 지금 홀 뺀 머라 프레드 로카 이런 것들을 사용하면서 크리티컬 섹션 니 발견될 때마다 붙이면 되요 그러니까 호크는 일단 타고 그런 식으로 작업을 하면 되는데 제가 이제 다음으로 포스트 t 코멘트도 병 우랄 최적화 해낸다 말씀드렸는데 제가 지금 말씀드린 방법으로 폭행 조인하는 것은 사실 얼려 엔진 포의 비스타에 부인이 되어 있어요 이미 그렇지만 얼려 내내 포에서 이 포스틱 컴포넌트는 그 평가를 않았거든요 근데 왜냐면 이게 보통 부화가 되지 않아서 그런건데 그 그 이 부분이 mmorpg 는 좀 문제가 되더라구요 그 예시를 보여 드리면 이런 상황이 발견할 될 수 있고 발생할 수 있어요 g mrtg 는 이것은 저희가 최적화 팥의 스트랩에 쓰는 놈 플랍 옷을 뵙게 들어 놓은 건데 그러니까 이런 길드전 한다거나 이런 상황은 충분히 발생할 수 있죠 이렇게 한 100명 이상의 액터 들이 계속 움직이고 있는 상황이 발생하면 그 이걸 프로펠러 로 찍으면 이렇게 포스틱 컴포넌트 몸살 그리스도인들은 먹게 되요 이것은 써먹을 수 있는 퍼포먼스가 아니죠 그 수백 개 컴포넌트에 대한 애는 커맨드를 생산함으로써 그런건데 그래서 이 문제를 방 안 할 수가 없었어요 그래서 제가 똑같은 방법으로 병렬화 를 시도를 했구요 예 엄밀히 말하면 저번에 젠더 커맨드를 생성하는 오링 커버에 다 라이트 라는 건데 제가 착잡 어린것 브라이트 다락을 걸었습니다 사실 여건은 컨디션이 높기 때문에 락을 걸면 안 되는 우리지만 원래는 그 락을 썼어도 그 38 우리가 쉴 미니 스커 놀 줄었어요 그러니까 어쨌든 트러스 dp 그 이런 이거라도 해야 겠다는 생각이 들었던 거구요 이거는 그래서 사실 추천하는 방송 까지는 아니지만 그 저희처럼 움직이는 오브젝트가 정말 많은 게임을 만들고 계시다면 한번쯤 참고하시면 좋을 것 같습니다 이렇게 포스틱 컴포넌트를 떨어야 했다 라는 좀 말씀 드리고요 마지막으로 죄 패스 씩 격렬하 에 대한 얘기 할게요 그 저 ui 스태프 미야의 에 대한 얘기 고스케 폭력일 업데이트하는 것도 회갑 보아요 금어초 컷 스템 돌리고 열어줄 말하는 건데 이 ui 업데이트가 왜 월드 틱 다음에 실행 되어야 된다 라는 궁금증이 솟을 3 그럴 필요가 없을 것 같은데 그래서 이거는 그냥 실험적으로 접근을 했구요 이게 전략 이었어요 이상스레 더 빼고 문제나 나올 때마다 고치고 만약에 도저히 부 탈 것 같은 걸 발견하면 된 없었던 일을 치는 거에요 이렇게 그 만약에 처럼 불가 해결 불가능한 문제를 만나지 않는 따른 성공했던 뜻이겠죠 왜 이렇게 소개드립니다 그 이 방법으로 그 저의 엔진이라 1 부 님 각잡고 두달을 달려있구요 그 이걸 그림을 그리면 이렇게 되는 거예요 그 멀티 틱 전에 스타트 제 패스를 해서 그 1 셀 들을 시작을 해 버리고 원래는 저 인터랙션 튀게 사고 있었잖아요 그거 래서 이 때 만에 그 스레드가 안 끝나 있다면 기다리는 방식으로 싱크 하는 방식으로 보여드렸습니다 회원을 했고 이게 굉장히 어려웠어요 이제 결론을 맛 흔들 썬 드리며 쉽지 나나코 투자를 걸려서 완성했는데 어쨌든 되긴 했다 라는 계 집 이구요 그 무기 부적으로 당연히 뭐 쿨 베개 난 무엇을 스웨이드로 8 몰라 엄청 쓰면서 했고 뭐 여기서 좋고 어떤 문제를 다 설명 드리면 너무 길어서 생략 할게요 그 뭐 하나 말씀드리면 이제 텍스처 크기 같은거 관리하는게 조금 문제가 되긴 해서 뭐 프리 프로세스의 스킹을 조금 먹긴 했습니다 이거는 나중에 궁금하시면 물어보시면 자세히 설명드릴께요 그래서 이런것도 어쨌든 할 수 있다는 게 팁입니다 그래서 최종적으로 모습을 보여드리면 이게 저희가 최적화 작업을 하기 전에 프로파일러 모습이에요 앞에 테러로 제기 라고 말을 썼는데 저희 테라 게임 로지 만 따로 패서 둔 부분이고요 이거는 제가 얼려 랜 이슬이의 최적화 거랑 거의 똑같이 전략으로 접근하면 돼서 제가 시험 방에서 생각했습니다 어쨌든 중요한 건 3번 코비 트론 은 다 놀고 있어요 가까이 걸 보여드리고 싶었던 거구요 이거를 이제 저희가 다 쪼개고 나니까 2점 그럼 그래프가 나왔어요 그 지금 빨간색 부분이 제 테 라 캔 모직 이고 뭐 파란색의 얼려 렌즈 안쪽 모습이에요 그리고 노란색 위치 금 ui 로직 인데 저렇게 1 빠졌구요 그 초록색은 렌더링 로직 인데 에 렌더링이 사실 80 만 저그 지분이 에 렌더링에 대한 얘기는 레지의 발 패드 이어집니다 이런식으로 제가 최적화를 할 수 있었다 라는 점을 공유 공유 드리고요 그래서 정리를 하면 4제 패스 책은 엔진 티어 풀이가 어쨌든 가능하다 가능하다는 것 자체가 팁입니다 그리고 호크 n 조인의 방식으로 왜 최대한 기존 코드를 의지하면서 저흰 작렬 하 시도했고 뭐 크리티컬 섹션 이 발견되면 뭐 풀백이 나락이 낫을 해줄 걸 정도로 그냥 갖게 개발하면서 해결한다 그리고 물론 락은 컨디션이 적을 때만 쓰는 것으로 하구요 그리고 뭐 경우에 따라서 로직 자체를 수정을 가보는 당연히 바랍니다 예 그렇죠 꼭 그러려면 어렌지 인내에 대한 부푼 위에 는 필수예요 요정도로 정리를 드리고요 마무리 할게요 예제 생각하네요 그 테라 콘솔은 콘솔 개발 서비스를 그 회사의 자산으로 남기고 싶어서 자체 포팅을 시작했구요 이 경험을 토대로 블로 레 차기 프로젝트에서 애플 쑤 플랫폼을 많이 고려하기 를 젖은 바라고 있습니다 이런 회사의 입장이 아니라 저희 짱이에요 에서 입장이고 해서 이발 때 결론은 결국 얼려 낸 c3 게임을 현세대 콘솔 리포팅 하는건 부강한 일이 아니다 얼른 n3 그 언 서 프 티 드 코드도 있고 또 전문가 각 회사에서 만해요 컨설팅 받고 도움 받을 때도 많아요 그래서 빠르게 기반을 만들 수 있다는 점 그리고 채 식사를 어렵지만 건 시간에 문제요 인내심으로 대응 하시면 됩니다 그리고 최적화 문제도 어떻게 할 수 있다 남미 tv 고 시장 선도 좋아요 저희가 그 부속 나이트 다음 순위까지 가졌잖아 요 예 그 그렇다는 점을 알려 드리고 싶구요 뭐 마트 밤으로 이제 전달 해 보자 했던 걸 정리하면 f 쏠 포팅 개발에 대한 어떤 간접경험을 사실 시켜드리고 싶었구요 그 어떤 과정을 거쳐서 얼려 랜지 3m 0 rpg 가 그 래 프 팅 되는지 그리고 그래서 이제 이걸 보고 저희를 보고 이제 콘솔 시장에 도전하는 회사가 많아졌으면 좋겠습니다 그리고 둘째는 이제 시작할 때 1 tb 줘 얼레 니스 게리 스스로 d 의미에 대한 문제점과 그 멋이 3g 최적화에 대한 지식을 공유하고 싶었는데 이게 잘 됐는지 모르겠네요 잘 전달되었으면 좋겠습니다 4 그 어쨌든 이 발표 내용이 적은 한 것도 아니고 2년 동안 굉장히 많은 저희 팀원 분들 고생 했어요 이 자리를 빌어서 저희 팀의 감사하다는 말씀 드리고 싶구요 4 그 울음 지기 컨퍼런스 란 지승 좀 지금 보조 저희의 트라 폰 써클렌즈 프로그램으로 지금 지금보다 그 많이 관심 주셔서 감사하고요 다음주에 처음 본 골라 갈 거야 지금 안 올라가 있어요 예 그리고 리마인드 다음 발표에 렌더링 3d 최적화가 이어지니 이것도 특검 하세요 4 이것으로 발표를 마치겠습니다 감사합니다 [박수]