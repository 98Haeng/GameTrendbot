제목: [NDC] 〈하스스톤〉 강화학습 환경 개발기 - 0티어 덱을 만들기 위해 떠나는 모험

네 안녕하세요 4 하스스톤 카스 환경 개발 기회 라는 주제로 발표하게 된 덱스 허리 옥천 오라고 합니다 예 발표 진행하겠습니다 일단 저는 목차 오라고 하고 이제 넥슨코리아 에서 게임 프로그래머로 일하고 있구요 예 작년에는 이제 유체역학 엔진 개발 이란 주제로 ndc 에서 발표를 했었고 예 언젠가 모든 카드 황금 카드 만들고 싶은 에 하스스톤 페리가 근거 이기도 합니다 예 어 지금까지 지름 금액 1호 600만 정도 되는 거죠 예 4 이따 안내 드릴 사항은 네 일단 이 발표는 개인 연구 프로젝트 구요 그래서 v 자드 엔터테이먼트의 후원 보증 재우 관계는 없습니다 이점 참고해 주시기 바랍니다 그리고 이제 이 발표는 강 학습을 하기야 환경을 만드는 과정을 설명하는 발표 구요 그래서 주로 하스스톤 게임 개발 겁게 관한 내용과 코드를 많이 다루고 있습니다 그래서 하스스톤 게임을 잘 알고 계시지 않다면 이해하는데 약간의 어려움이 있을 수 있는데 최대한 쉽게 한번 설명해 보도록 하겠습니다 4 목차는 다음과 같구요 예 일단 들어가며 이제 서러운 부터 시작해 보도록 하겠습니다 먼저 이제 발표할 수 있도 또 주신 전 이상 님께 감사 드린다는 말씀을 드리고 싶고 이제 저희 프로젝트 함께 만들어나가는 이제 저를 제외한 비만 분들께 좀 감사드린다는 말씀을 드리고 싶습니다 네 오늘 발표할 주제는 하스스톤 에 관한 거구요 4 그래서 할 스토어에 대한 얘기를 잠깐 해볼게요 하스스톤 은 이제 v 잣 엔터테인먼트가 개발한 디지털 카드 수집 게임이구요 2013년 3월에 팬이 아케이드 엑스포에서 처음 발표가 되었고 이제 14년 3월 13일부터 pc 버전 부터 이제 출시가 되었구요 현재까지 11개 확장 팩과 4개 모음 모드가 추가되었고 이제 작년 11월 발표 기준으로 이제 이용자 수가 1억명을 돌파한 그런 게임입니다 그래서 이렇게 이제 하스스톤 게임 은 이런 식으로 있구요 4 하스스톤 아시는 분들이라면 이 되기 얼마나 에 뭐 더이상 설명 안하겠습니다 그런 2세 하시구요 근데 이제 매일 하스스톤 을 개발하게 되는 지 이제 그 게 중요할 것 같아서 이제 그 얘기를 좀 드리고 이제 본격적 얘기를 들어 가려고 해요 저는 사실 평소에 카 손을 좀 많이 즐기게 한데 조금 라이트하게 즐기는 과금 넣었는데요 그래서 평소에 좀 이제 다양한 책들을 p 테스트 해 보곤 해요 예 라이트 헤비 가동 거예요 예 많이 좀 많네요 예 플레이가 나이트 하고 액 회비가 붐 나가는거 참고 해 주십니다 그래서 추적 다양한 대개 테스트를 많이 해 보는데요 그래서 보통 저는 플레이어 랑 많이 하기보다는 이제 연습모드 컴퓨터랑 좀 많이 해 오래 자면 그대 테스트 좀 해보고 싶은 마음이 있어서 이제 여러 댓글을 많이 테스트해 보는 데 사실 이런 연승 모드 로 컴퓨터랑 대결을 많이 해보면 이 컴퓨터 flag 보게 되잖아요 그래서 보통 대부분은 괜찮아요 내가 보통 그 사람이 하는 것과 비슷한 플레이 들을 하는데 이제 가끔 이런 상황이 있어요 지금 피드에 보면 이제 정말 예언자 라는 카드 거래 는데 이게 이 카드가 이제 다음 달 시작될 때 pd 에 있는 모든 하수인을 없애는 가 되요 그래서 제가 이렇게 해놓고 피드 너희 온 왔거든요 그럼 공격을 못하잖아요 근데 그러면 얘들을 어차피 다음턴에 무조건 죽게 되어 있어요 그건 보통 플레이어라면 은 아무 행동도 안하죠 어떤 이 상황에서 근데 이 컴퓨터는 갑자기 그 버프를 걸어 하수인 한테 그리고 죽어요 그러니까 플레이어라면 은 일반적으로 안에 플레이를 컴퓨터는 하거든요 그 6 모두 해보면 그래서 사실 이런 상황을 종종 봐요 으 여성보다 하다보면 그래서 굉장히 짜증이 날 걸 때마다 왜냐하면 그래도 좀 컴퓨터도 플레이어 같이 좀 해 준 좋겠는데 그 너무 말도 안 된 플레이를 하니까 짜증이 나는 거죠 근데 이제 그러던 도중 이제 그때 한창 알파 블랑 알파 알파 보나 카스타 얘기가 막 한창 돌던 식이에요 그래서 약가 이제 일뽕 을 맞은 거죠 예 그래서 스파스 섬도 또 어떻게 보면 저렇게 만들수 있지 않을까 그런 생각이 이제 그래서 생각하게 돼서 이제 애나 모르겠다고 있다 목표부터 세웁니다 예 그래서 강 악 목표는 강아 스웨 통해 그 영리한 플레이를 할 수 있게 만들어 보자 그래서 하 스턴 프로게이머 와 대적할 만한 수준으로 만들어 보자 그 다음에 승연이 높은 덱을 만들어 보자 그래서 보통 게이트가 되기 라고 하면 50% 후반 때 승리를 보이거든요 그거 보다 높은 60% 이상의 되게 만들어 보자 또는 플레이어가 덱을 만들 때 어떤 카드가 없을 경우 대체 카드 추천 기능을 제공해 보자 이런 목표들을 세우고 이제 진행을 하게 됩니다 4 서론은 여기까지 하구요 이제하 소통 강화 학습에 대한 얘기를 잠깐 해볼게요 2 하수 손이 사실 다른 게임 학원은 좀 많이 다른 면이 있어서 그 부분을 살짝 비교해 보고 넘어가려고 합니다 어 일단 강 학습이란 것은 아이가 첫걸음이 되는 과정과 굉장히 유사한 데요 그 사실 아이는 우리가 이제 어릴 때 이 제 기억엔 없겟지만 이제 걷는 것은 4집 배운 적이 없잖아요 근데 4살 아이가 이제 처음에 내 스스로 이것저것 시도해 보다가 그냥 우연찮게 걷게 되는 시기가 있어요 그러다가 근데 그때는 이제 자신이 하는 행동과 걷게 된다는 보상 사이에 상황 되길 관계로 모르기 때문에 아이는 이제 처음 맛이 다시 넘어 졌다가 이제 시간이 지남에 따라 그 관계나 xp 에서 잘 걷게 되는 이런 과정을 거치 거든요 강 학습도 이거랑 되게 비슷한 과정을 거쳐 그래서 에이전트 라는 게 있는데 이젠 턴 이제 사전 지식이 없는 상태에서 학습을 하고요 에이전트는 이제 자신이 논 환경에서 이제 자신의 상태를 이식하는 행동을 하고 그런 환경은 에이전트에게 이제 보상을 주고 다음 3 그 상태를 알려주고 요 예 전투는 보상을 통해 어떤 행동이 좋은 행동이 직 간접적 알게 되는 이런 반복적인 형태를 취합니다 그래서 오늘 발표 주제로 다룰 것은 이제 이 환경에 관한 얘기에요 그래서 어떻게 보상해 주고 다음 상태 어떻게 알려 줄 건가 이 얘기를 오늘 주로 하려고 합니다 r 타고는 보면은 일단 다 2기 위에서 어쨌든 대결하는 거잖아요 하드 파 4 에서 그래서 바둑판 위를 보면 은 모든 상황이 나와있어요 상대방도 를 어떻게 됐는지 그 다음 내 돈은 어떻게 줬는지 그래서 모든 정보가 주어져 있는 상황에서 그 다음에 이제 또 턴 턴제 방식을 실행이 되죠 그리고 이제 제한시간이 있고 그러다 보니까 사실 제한된 시간 내에 이제 그 경우에서 들 계산해서 이제 최적의 수도 찾는 그런 과정을 거치 조 중요한 것은 어쨌든 바둑판 위의 상황을 모두 알 수 있다는 게 굉장히 중요해요 반면에 r 파스타 같은 경우에는 이제 실시간 전략 게임 이면서 이제 불완전한 정보가 주어지지 요 왜냐하면 이제 네 맵에 있는 씨암 안 보이고 상대방 플레이어가 뭐 하고 있는지는 보이지 않죠 근데 이제 어째 유닛에 시야 범위 안에서만 정보라 얻을 수 있고 그래서 정찰에 보내서 탐색전을 펼치면서 상대방의 상황을 출연하는 이런 과정을 거치 줘 그래서 실시간으로 넓은 전장에서 수백개의 유닛과 건물을 제어하면서 다양한 조합으로 총 의 전략을 짜야 해요 그래서 제 절 r 파스타가 이제 분석을 하는 걸 보면 은 이제 알파 스타의 있는 이제 시야를 기반으로 이제 신경망을 통해 이제 그 가장 최적의 이제 행동 또는 이제 건설을 비드를 찾는 이런 과정을 거칩니다 근데 이런 스타와 이제 그 알파 그와 달리 하스스톤은 그 카드 수집 게임 이면서 불안정한 정보가 주어지는데 이게 스타크래프트 하고는 상황이 좀 많이 달라요 문제 가 뭐냐면은 일단 내 댁에서 당장 다음에 무슨 카드가 나올지도 몰라요 예 그 다음에 상대방이 현재 손에 무슨 카드 들고 있는지도 몰라요 정확히 그 다음에 상대방 댁에서 다음에 무슨 카드가 나올 지도 올라야 그래서 알파 그 나이 파스타 달리 자신의 정보조차 불완전 아 그런 문제가 있어요 왜냐 밑단 내 정보가 다 완전 하면 그래도 최적의 손을 좀 예측해서 찾아볼 수 있는데 문제는 학습된 게임을 보면 모르는거 투성이라 는 거죠 당장 내에 다음 카드의 까 뭐가 나올지도 모른다는 게 크 가장 큰 문제라고 할 수 있어요 거기다가 이제 카스를 카드를 보면은 그 시도 때도 없이 랜덤 이라는게 붙어있어요 그러니까 다음 카드가 뭐가 나올지도 모르는데 냈을 때 어떤 결과가 나올지도 모르는 거죠 근데 이런 그 랜덤 카드가 생각보다 굉장히 많았었는데 사실 그렇기 때문에 약간 사기친 다 이런 말을 소위 하지만 어 반면에 이제 이런 랜덤 때문에 그 프로게이머 들간의 대결 조차 에서도 이런 운영에 기대는 그런 장면들이 많이 나옵니다 그래서 보통 많이 볼수 있는 장면이죠 월드 챔피언십에서 도 기도를 하는 이런 상황이 발생하는 거죠 예 저희 평소에 스트리머 분들도 많이 기도 하시구요 예 며 때는 이제 신앙이 심히 생겨요 예 그래서 이런 하스스톤 은 이제 그래서 스타크래프트 강의 제 바둑과 는 좀 다른 점을 많이 생기고 있구요 그래서 연구하기 굉장히 좀 흥미로운 주제의 요 그 다 보니까 이제 막 이제 최신 논문들이 막 많이 나오고 있는데 이제 오늘은 여기에 대한 얘기는 약간 아니고 이제 이 작업을 하기 위한 과정을 설명하기 위해서 여기에 내 욕은 이제 따로 설명하지 않겠습니다 그래서 이런 연구현황 도에 보이고 있구요 최근에도 하스스톤 ai 관련된 논문들이 계속 나오고 있어요 4 그래서 오늘의 분 주제인 회사 하스스톤 게임 개발에 가는 얘기를 해볼게요 예 일단 게임을 활용해 강 학습 하려면 사실 여러가지 방법이 있습니다 첫 번째 방법은 게임 회사에서 제공하는 api 를 사용하는 방법이 있어요 대표적으로 스타크래프트 투 같은 경우에는 이 제부의 자 데서 이 pi 를 제공해 줘서 이제 강 앞서 말씀 환경을 만들 수 있었고 이제 강 학습 연구 라는 사람들은 이제 그 apr 통해서 환경을 바보 이제 환경을 통해 바로 연구를 할 수 있었죠 문제는 파스는 그런게 없어요 예 그래서 안되죠 어 두번째 방법은 어후 킹 에서 어 그냥 이제 그 그냥 하우스 터크 나이트의 바로 붙여서 이제 플레이하게 만드는 방법이 있어요 꽃처럼 예 문제는 이제 그렇게 왜 이렇게 가져 예 그래서 그렇게 이것도 안 되고요 그래서 서비스 중인 게임에 영향을 주는 행위는 하게 불법이 어서 보또 설치할 수가 없어요 그럼 방법은 남은걸 하 밖에 없어요 직접 만드는 거 밖에 없죠 그 사실 이 방법은 j 아무도 안 쓰고 싶은 방법이 왜냐하면 직접 만들어야 되니까 근데 사실 대안이 없어요 왜냐면 거나 어쨌든 만들고 싶으면 은 그냥 뭐 게임 만들어서 써야죠 예 그래서 맨땅에 헤딩하는 수밖에 없어요 그래서 맨 땅에 헤딩을 해보게 되었습니다 예 어 이런 마음가짐으로 에 예가 많이 쓴 반 이하로 가고 시작이 반이니까 완성했네요 예 살만 이고요 4 이제 하스스톤 에 대한 이제 개발에 가는 얘기 본격적 해볼게요 핫썬 구조는 보시면은 그 이제 화면을 보면 크게 6가지 많으신데요 어 이제 전장 그 다음에 영우 그 다음에 손 명 능력 100 묘지 이렇게 6가지로 크게 구성이 되었습니다 그래서 이 6가지를 이제 이제 우리가 개발할 때 만들어야 되거든요 그래서 이 6가지가 기반 있어서 이제 게임이 만드신다고 보면 되고 그래서 구조로 이렇게 보시면 됩니다 그래서 게임이 있으면 이제 게임의 는 플레이어 2명이 있고 그 각 플레이어는 이제 필드와 히어로 핸드백 그레이브 아들 이렇게 5가지의 큰 메인 요소를 지니고 있구요 근데 그 필드에는 미니언이 있고 히어로는 규격으로 파워 라는 영웅 능력을 갖고 있겠죠 그 다음에 그 손 이라고 하는거 이제 손에는 이제 성패는 카드가 있을 거구요 그 다음에 대기 나 그래 뭐야 해도 당연히 다 카드가 있겠죠 그래서 구조는 크게 이런식으로 볼 수 있고 아 또 카드는 보면은 이제 카드는 ntt 를 만들때 쓰구요 거라는 dt 는 이제 카드의 타입에 따라 캐릭터 그냥 스펠 웹 폰 인첸트 먼 튼 히어로 파워 그 다음에 캐릭터는 다시 미니언과 히어로 로 나눌 수 있겠습니다 어 근데 보면은 이제 카드 라는 게 있고 이 엔티티 나는 게 따로 있잖아 지금 그게 왜 따로 인지 이제 설명을 해드릴께요 이 카드의 키테 부유한 이유는 이제 그 엔티티 악 그 게임에서 쓰는 카드가 좀 다른 성격을 띠고 있어서 그런데요 카드는 일단 우리가 이제 그런 그대 짤 때 보는 그런 카드 목록에 있는 카드 얘기하는데 그것은 순수한 카드정보 오리지널 정보만을 담고 있는 개최해 잖아요 근데 이게 게임에 들어가면 이제 뭐 버프를 받기도 하고 또는 디버프를 받기도 하고 뭐 침묵을 맞기도 하고 이렇게 되잖아요 그 때문에 기존에 있는 카드정보를 건드리면 은 다음 게임에서는 그 정보로 사용할 수 없게 되잖아요 그래서 nt 키라는 또 새로운 객체를 만들어서 이제 게임 내에서 자유롭게 버프와 디버프를 걸수 있게끔 이제 새롭게 만든 개체를 우리가 nt 키 라고 정의했습니다 그래서 보시면 왼쪽에는 카드 구요 원저 게 보시면 게임 내에는 보면 인 버프를 받은 모습을 볼 수 있죠 그래서 요거 여기엔 특히 라고 하는 것 것입니다 그래서 실제로 코드를 보면 은 이제 엔티티에 보며 4개 푸른 카드 라는 함수가 있고요 보면은 이제 그 카드 타입에 따라 이제 각 그 엔티티 성격에 맞는 카드를 새롭게 동적 할당 해주는 모습을 볼 수 있습니다 그래서 이제 가드 알기 를 지정해주고 이제 새롭게 생성된 dt 를 반환해 주는 요런 코드로 이제 카드를 통해 nt 를 만드는 이런 과정을 거치고 야 이제 본격적인 카드 구현에 관한 얘기해 볼게요 사실 카드 게임에서 가장 중요한 건 카드 잖아요 이 카드 게임에서 카드 없음 아무 넘게 이제 습니다 의미가 없어요 그래서 카드를 구하는게 가장 중요해서 저희는 이제 카드 구현 부터 시작을 했는데 이 카드를 구할 때 고려 될 부분이 크게 3가지가 있어요 이 카드 데이터 이제 하스스톤 카드 데이터를 과연 어떻게 구할 것인가 그 다음 두 번째 그런 카드 데이터를 어떻게 가져올 것인가 세번째 이제 카드에 있는 효과들 어떻게 인식할 것인가 그게 이 세가지가 관건인데 이 하나씩 한번 설명해 보도록 하겠습니다 일단 카드 데이터 처리 부터 보면은 일단 하스스톤을 보면은 카드가 굉장히 다양해요 그 다음에 그 카드마다 데이터가 조금씩 다르죠 어 대표적으로 일단 모든 카드는 많아 코스트 락의 소 있어요 그래서 0 말라붙어 뭐 10만원 이상 넘는 카드까지 이렇게 다양하죠 하수인 카드 는 이제 공격력과 체력을 도 추가로 같죠 뭐든 그러나 무기 카드는 또 공격력과 내구도 라는 개념이 있어요 그 다음에 어떤 카드 늘 이렇게 이제 도발 처럼 업 et 를 갖는 카드들이 있고요 어떤 카드들은 그 특별한 능력이 있어요 뭐 여기는 비밀처럼 이제 능력을 갖고 있는 거죠 그래서 카드마다 이제 갖고 있는 데이터들이 조금씩 다 상의 안 돼 이런 다양한 카드 데이터를 어떻게 가져올 수 있을까 이게 중요 했거든요 어 참 고맙게도 이 제이슨 형태 2 및 악보 펴져 있는 사이트가 있어요 하스스톤 제 있으니 라고 여기 들어가시면 하스스톤 카드 데이터를 패치 때 마다 전부 온 업데이트에서 j 쓴 파일 폼에서 로 제공해 줍니다 그래서 카드를 동작하는 동작을 구현하는 데 필요한 사실 거의 모든 데이터가 있어요 어 여기 봄에 거의 에 강조가 되어 있죠 이거이 가 문제인데 이제 그거는 좀 잠시 왜 사용해야 되겠습니다 그래서 하스스톤 잭애스 홈페이지에 가보시면 예시도 리로이 젠킨스 는 카드가 사요 소개가 되어있어요 그래서 이루어진 키스는 이제 이런 카드 줘 이제 지금 메타 에서 더 자주 보이는 그런 같은데 그 카드의 그 데이터를 보면 왼쪽에 있는 것처럼 이제 아이디 이름 부터 시작해서 뭐 공격력 호스트 그 다음에 체격 그 다음은 메카닉 써 라고 이제 그런 어디 티드 까지 전부 데이터가 저장되어 있어요 그래서 보시면은 카드에 나와있는 정보들이 전부 일대이다 대응이 되죠 으 그래서 이 그 하셨던 제이스 마 있으면 카드 데이터 일단 문제가 없어요 거기다가 그 이 친구들이 이제 그 패치가 있을 때마다 계속 업데이트 해주시기 때문에 저는 그냥 내려 봐서 잘 쓰면 됩니다 그래서 이런 데이터는 이제 제이스 이라는 라이브를 통해서 저희가 이제 하시는 하는데요 이제 있으리라는 라이브러리 이제 모던 싶을 뿔을 위한 이제 제이슨 80 라이브러리 에요 그래서 되게 사용하기 것이 있구요 그래서 헤더 파일 하나만 추가하면 끝입니다 그래서 저 샵인 코드의 이제 제이스 전 hp 를 이제 그냥 산업 많이 주시는 바로 사용할 수 있고요 그래서 이런 데이터는 이제 바로 그냥 우리 마치 스탠다드 시 콘솔이나 딘 프 5시 그냥 받아서 이제 카드 데이터 이제 널 여부를 확인한 다음에 바로 케슬 통해서 2 원하는 타입으로 바로 이제 파싱 받을 수 있습니다 그래서 이러한 형태로 이제 카드 데이터를 모두 받았구요 근데 이런 카드 데이터에 한가지 문제가 있습니다 그 사실 카드 제이슨 포맷을 보면은 이 카드 타입에 따라 그 다양한 종류의 데이터가 문자열 형태로 저장이 되어 있어요 근데 이제 개발할 때 이 저희가 고려했던 상디 뭐냐면은 이런 키워드도 있잖아요 뭐 도발이 라든지 뭐 질풍 이라도 이런 키워드들을 좀 문자로 처리하는 것보다는 좀 열거 채로 관리하면 좀 편할 것 같았어요 왜냐하면 은 이게 매번 문자 일러 비교한다는 것 자체가 성능 상태 에게 비교 이적 이거든요 그래서 10 것처럼 관리 했으면 좋겠다 생각이 있었고 근데 또 문 짤 문제요 되었으니까 문자열과 채로 바꿀 수 있는 그런 방법이 있으면 좋겠단 생각을 했어요 왜냐하면 데 키워드가 너무 많아서 스위치 키스 관리하게 되기 힘들 거든요 그래서 타임 마다 어떤 종류가 있는지 있다는 어떻게 아는가 가 중요하고요 첫 번째로 그 다음에 열과 채로 어떻게 변화 에서 저장할 수 있을까 되게 중요 했어요 일단 그 10 가치에 어떤 종류가 있는지 는 2 8 파이썬 하스스톤 이라는 저장소에서 많이 해결 했는데요 여기는 이제 카드 데이터 에서 사용하는 다양한 1개 타입이 저장이 되어 있어요 그래서 여기 보시면 대표적으로 그 에어리 티라고 그 카드의 등급 에 저장하는 10 같은데 거기 보시면 은 임베디드 부터 에서 레전드리 까지 이제 어떠한 그 열 번째 종료 전 있는지 모두 나열되어 있어요 그래서 이 여기 통해서 이제 열거 채 들의 어떤게 있는지는 알 수가 있었구요 그 다음에 이제 그 문자열 거쳐 처리하는 방법이 문제였는데 그건 이제 베 라이너스 라는 라이브를 통해서 해결 했습니다 여기는 이제 문자열과 열거 채 변환을 지원해주는 라이브러리 에요 그래서 이넘 점 h 나는 이제 헤더파일을 이제 잉크도 안 다음에 제 10급 매크로로 이제 어떤 열거 채 타임을 이제 어떤 이름으로 받을 건지 이제 매크로 선언 맞으며 는 이제 투 스트링 이라는 이제 함수 통해서 이제 문자열 열거 차로 바로 바꿔줄 수 있고 반대로 이제 열과 채 드문 짤로 바꿔줄 수 있는 그런 간단한 라이브러리입니다 그래서 이거를 두개를 합쳐서 이렇게 이제 뭐 등급 이라든지 카드 타입 이라던지 에서 그 다음에 확장팩 종류 라던지 이런 것들을 이제 바로 문자열에서 열거 채로 받아서 저장할 수 있게 됐어요 그래서 이런 식으로 해결했습니다 저희는 4 그래서 엘카 들은 이루어지는 이제 몇 가지 라이브러리 암 이제 데이터를 통해서 이제 전부 받을 수 있겠어요 이제 문제는 카드 효과를 처리하는 부분이었어요 다시 하스스톤을 보면은 그 카드 효과가 되게 고유한 게 되게 많아요 1 딱 보시면 그 이제 방금 보게 4 봄에는 이제 어떤 조건에 따라 능력이 발동한 이런 자들이 있어요 얘는 이제 하수인이 피해 내면은 의미의 적 대상에게 피해 내주는 가 되거든요 어떤 카드들 피드에 낼 때 효과를 발동하는 카드도 있어요 아 두억시니 되요 예 지금은 좀 한번 갔는데 예 이런 pd 낼 때 효과를 발동하는 카드가 있는가 하면은 어죽을 때 효과를 발동하는 카드들 있어요 예 넣고 보니까 한때 메탈의 휘 잡았던 애들만 던데요 예 더 죽을 때 역할 활동하는 카드 있고요 어떤 또 비밀이란 것은 특정 조건에 부합하는 상황이 일어나면 또 저조도 발동되는 카드 들이에요 그래서 보니까 효과가 굉장히 조건도 다양하고 발동시 기도 다양하고 뭔가 그 다음에 그 효과를 효과 자체도 되게 다양한 그런 상황이죠 이런 다양한 효과들을 어떻게 처리할 수 있을까 이게 이제 또 중요하잖아요 가 돼서는 그래서 제가 아까 전에 카드 데이터 처리 설명하면서 이런 말 했었어요 그 카드의 동작을 구하는데 필요한 거의 모든 데이터가 있다고 했잖아요 이제 거의 에 대한 얘기를 해볼 거에요 그 앞에서 같다 이루어진 키스 카드 잠깐 다시 한번 살펴보면 예 효과는 뭐냐면은 그 상대방 피드에 1 1 하수인 두 마리를 100 그 소환 시켜요 그런 효과가 있는데 지금 옆에 그 카드 데이터를 보시면 그런 얘기가 아무것도 없어요 보면 그래서 이 카드 데이터로 는 카드 효과를 얻을 수가 없어요 뭐 이게 첫번째 문제 였구요 두번째 문제는 하스스톤의 카드 수가 문제였어요 그 하순 일단 수많은 카드가 존재 하거든요 그 사실 근데 여러분이 구현에 카드는 생각보다 되게 많아요 왜 그런 되면 일단 하우스 터에서 지금까지 출시한 카즈 좀 더 해보면 1926 짱이에요 그러니까 여러분이 이제 만들 수 있는 카드를 수집할 수 있는 카드 드린 1926 짰는데 정말로 1920 6장 있냐고 물어보면 은 아닙니다 제가 왜 그런지 예시 알아 보여드릴께요 어 얘는 페더레이션 찾아라 는 가드 거든요 244 의사 코스트 하수인 데 얘 되면 이 중간에 있는 잠복 이란 카드들의 3장을 되게 넣어요 그리고 댁에서 이게 뽑히면 4 코스트 사사 거민을 소화시킬 거든요 왼쪽과 는 수 12 가능한 같은데 왼쪽 두개는 수집이 안되요 근데 문제는 뭐냐면 게임 에서는 셋다 쓴다는 거죠 그래서 여러분이 게임을 구매할 때는 수집 가능한 카드만 구현 해야 되는게 아니라 수지 불가능한 가드도 모두 구현 해야 된다 문제가 있어요 그냥 카드를 모두 더하면 6 천장이 됩니다 제가 이거는 그 데이터를 다 3방 3 봄 6 천장 좀 써 이거든요 지금까지 근데 이제 거기에는 이제 뭐 모드에서 사용하는 카드도 다 들어가 있고요 그 다음에 이제 뭐 내부 테스트 염 디버깅 카드도 있어요 되게 신기한 카드도 되게 만든 그런 아무튼 그런 카드 맞춘 6 천장이 넘구요 그러면 이제 6000 장이 된 카드 카드 효과를 구현 해야 되는 상황이에요 문제는 데 그런 데이터도 없어요 그 뭐 좀 쉽게 구해야 방법이 없을까 이제 찾아봐야 되잖아요 일단 되게 이상적인 방법을 찾아봤어요 어떻게 카드 읽어서 좀 자동으로 생성해 준 거 없나 얘는 좀 찾아 봤거든요 있더라구요 그 2016년에 김 마인드에서 연구한 꽤 있어요 그 코드 생성을 위해서 신경 광으로 이제 이미지를 읽어서 인식시켜 서 이 카드를 위한 코드 생성 하다 이런 연구가 있었는데 보시면은 그 잘 된 케이스도 있고 요 밑에 보면 마음 가진 같은 경우에는 이제 잘 코드 생성이 잘못된 게 있었거든요 그래서 후배는 이렇게 완벽하지 않아요 보면 그래서 되는것도 있고 안되는것도 있고 이렇게 섞여 있는 거죠 글라 보니까 이게 사실 100% 가 아니면 쓰기가 되게 힘들어요 왜냐하면 안되는 카드에서 들어 일이다 차여서 금 해줘야 되잖아요 그러다 보니까 이게 선행 연구가 있긴한데 쉽지 않고 올바르게 생성이 안되요 그런 경우도 있다 보니까 이거는 고려 대상에서 빼 버렸고 요금 남는 돈은 사실 하나 밖에 없어요 당한 드 라 해서 뭐 예 그래서 카드마다 효과를 직접 구현하는 방법을 택했습니다 이게 사실 되게 힘들어요 그리곤 아침에 받았거든요 그 근데 정말 하기 힘든데 사실 이거 만큼 확실한 방법이 없어요 그래서 사실 이것 했구요 근데 또 다행스러운 것은 그 효과가 없는 카드도 상상 상당 수가 있거든요 그러다 보니까 이제 6086 전까진 굴 구해야 돼요 아 그래 발모 천장도 않겠네요 4 그래서 카드 효과 종류를 좀 보도록 하죠 크게 5가지로 나눌 수 있는데요 일단 전투의 함성 이라는게 있는데 이 전투의 함성 이란 것은 플레이어가 카드를 핸드에 선해 한 번만 발동되는 효과 드릴께요 그 다음에 죽음의 메아리 라는 게 있는데 이거는 이제 하순 이나 무기가 파괴될 때 발 정된 효과 요 그래서 왼쪽에 카드 두 개가 이제 전체 암성 카드 구요 오른쪽에 있는 카드 두 개가 이제 죽음의 메아리 가 들어있네요 이런식으로 카드 종류가 있구요 그 다음에 이제 인첸트 라오 라는 게 있어요 인첸트 라는 것은 지정된 대상에게 특정 효과를 부여하는 이런 카드 드리구요 그 다음에 오라 라는 것은 이제 하시니 필드에 있는 동안 지정된 대상에게 진행된 효과가 유지되는 그런 카드 효과를 1 께요 그래서 온 적이 있는 두 개가 이제 인첸트 고요 왼쪽에 있는 두 개가 오라를 갖고 있는 가 되요 그다음 마지막으로 트리거 카드가 있어요 트리거는 정해진 중 조건을 충족할 때 특정 효과가 발동되는 카드도 얘기 안 돼 보통 게임 내에서 이렇게 번개 표시가 밑에 달려 있으면 보통 다 트리거가 더 라고 생각하시면 됩니다 그래서 이렇게 5가지가 있어요 어제가 그 아마 오늘이나 내일중으로 2 발표 자주 업로드 할 건데 거기에는 이 다섯가지 어떻게 구하는지 다 저번 왔거든요 그러다 보니까 슬라이드가 폐 80장 정도가 되더라구요 그래서 여기서는 제가 전태양 선과 죽음의 메아리 1 어떻게 곤란 지막 먼저 보여드리고 시간이 되면 나머지도 1 버프 뒤 쓴 그런 방향으로 좀 진행하겠습니다 시간이 나눔의 그렇게 예 이렇게 빼도 120 점 정도가 되더라구요 예 근데 벌써 80장 왔어요 예 4 함 볼게요 일단 전태양 산과 즐거움 왜 어떻게 구해 하냐면 이제 태스크 단가 만들어서 처리하는데 이 태스크를 만들기 위해서 일단 먼저 부모 클래스인 아이 캐스크 안 거상 성밖에 해놨어요 그래서 순수 가상함수 두개가 있는데 그게 테스트 아이디랑 인 프리맨 테이션 감 함수 2개를 제의가 순수 가서 한번만 더 좋습니다 그래서 이거 두개를 이제 아이 테스크 상속받는 클래스 는 반드시 조 함수도 구현 해 줘야 되구요 그래서 개의 테 스카이 d 는 이제 테스크 아이디를 방 암 속 임프 함수는 이제 태스크 로직의 구해낼 하세요 그래서 구하는 태스크는 이제 그게 어떤 태스크 든 간에 넌 인한 엄벌 t 라는 함수 유통 코 추출해서 실행할 수 있어요 언어 니나 남순은 이제 하나의 태스크를 신행 안암 쓰고요 그다음 멀티 란 암소는 여러 태스크의 시내가 남습니다 그래서 보시면은 이제 it s 클래스 보면은 이제 그 넌 인한 퍼브 집으로 넌 인한 암 수가 있고 프라이 베이터 2인 프리남 수가 있잖아요 그래서 어느 신신애 가면은 넌 안에 보면 인 프리맨 테이션을 신행 않은 함수가 들어가 있구요 그래서 우리는 임플 만 구해주면 은 이제 태스크가 아서 동작할 수 있게끔 그렇게 구현 해 놓습니다 지금 그래서 언니랑 낱말 튀는 봄에는 그냥 넌 암소는 말로도 태스크의 넌 함수 호출 한영 되구요 난 멀티는 이제 넌 이 여러번 되게끔 이제 가변 이제 템퍼 짓을 받아서 구현해 놓았습니다 어 그래서 예시로 그 방패를 얘기는 카드 한번 구현해 볼게요 일단 방 피부의 기능 카드 불안할 때는 일단 이 카드를 보고 어떤 테스트를 만들지 생각을 해 봐야 되요 일단 봄에는 그 방어력 5를 어쩌 그 다음에 카드 1장 들어요 그럼 태스크가 2개가 필요하겠네요 그게 이제 개인 5 암 오니까 아마 테스트가 필요할 거 고요 그 다음에 들어가 드니까 드로 태스크가 필요할 거에요 그래서 아무 태스크는 방어 돈 얼마 노희지 그런 지 정하는 데스크 고요 그 다음에 들어오 태스크는 카드를 몇 장 인 아트 로 할 것인지 지정해 줄 수 있는 그런 데스크 입니다 그래서 아마 태스크를 보면은 이제 방어도 획득하게 했는데요 그래서 그의 마운트 라는 값을 받아서 이제 방어도 얼마나 올릴 것인지를 지정해 줄 수 있어요 그래서 실제로 이제 9 염불을 보면은 2pm 의 테이 션에 보면은 이제 그 생성자에서 에어바운스 를 받아서 이제 실제로 인플레이션을 보면은 히어로 한테 이제 방어도 에 부여하는 그런 감소로 호출 하죠 그래서 실제로 보시면 은 이제 3 나무에서 이제 우리가 받은 만큼 이제 더해주고 이제 현재 방어도 를 가져와서 이제 실제로 올릴 방어도 를 더한 다음에 다시 지정하는 그런 감소도 거칩니다 이렇게 주면은 이제 방 얻어 가 이제 원한 올라갈수도 올라가 알게 되겠죠 아메드 로 태스크는 이제 카드 드로우 하는 태스크 인데요 여기 역시 몇 장의 아트로 들어와 할지를 받을 수 있게끔 에마 어 마운트 라는 인자를 받습니다 그래서 생성자에 이제 그 몇 장이나 받고 이제 들어갈 것인지를 받아서 이제 이 플랜테이션 함수에 보면은 2 제어 마운트 만큼 이제 드로우 하는 그런 함수를 호출합니다 어 그래서 들어 하는 함수를 호출하는 부분을 보면 은 어 윗부분은 이제 8층 데미지 처리하는 부분이에요 그래서 카드가 모두 이제 대개 m 있는 모든 카드 둘러 하고 나면 이제 파이팅 데미지 같은 오잖아요 그 부분을 철저하게 놓치기 윗부분이 있구요 이제 그 탈진이 아니라면 이제 밑에 이제 그 베개 있는 맨 카드를 이제 들어온 에서 이제 핸드에 추가해주는 이런 이제 모집을 거칩니다 그래서 에 카드 트렌드에 보면은 이제 카드가 꽉 찼으며 는 바로 묘지로 보내고 요 이제 핸드가 까만 쳤다면 은 정상적으로 핸드에 카드 추가해주는 이런 함수를 호출합니다 이제 이렇게 태스크를 구했으면 이제 구양 태스크를 통해서 카드 효과를 등록해 주면 되요 그래서 파워 에다가 이제 애드 파워 테스크 이라는 함수를 넣어주고 이제 아무 태스크 안쪽 디스크 추가 및 이제 추가 해 주고요 그 다음에 이제 그 카드의 다가 파워를 등록해 주면 은 이제 실제로 카드 동작을 할 때 이제 내면은 이 두 태스크가 돌면서 원하는 효과를 수행할 수 있게 해줍니다 예 그렇게 해서 이제 전체 함성을 죽음의 r 이렇게 한장씩 구원할 수 있어요 어 어 나머지 이제 네 개의 파트도 이제 발표 쓴 아이 되는 모두 들어가 있으니까 이제 그 발표 사이트 참고해주시면 좋을 것 같구요 어 이제 영웅과 하수인 공개 없고 어떻게 구했는지 좀 살펴볼게요 어 공개 카드 일단 그 공격을 구매할 때는 이제 두 가지가 되게 중요한데요 공격하기 전에 고려해야 될 부분이 있고 공격할 때의 고려해야 될 부분이 있어요 일단 공격하기 전에는 영웅이나 하수인이 공격할 수 있는 상태인지 먼저 체크해 줘 되구요 그 다음에 공격할 대상 자체가 유용한데 사는 지 확인해 준 잡음 필요합니다 그 다음 공격을 할때는 빙결 독성의 신도 진 등 의 특수 능력이 있는지 확인 하 고 그것에 따라서 맞춰서 처리해 줘야 되구요 그 다음에 이제 피해를 주고 나서 남은 체력에 따라 영웅이나 하수 인해 파괴하는 것은 오직 또 있어야겠죠 그래서 코드를 보시면 은 어택 이라는 함수가 있구요 보면 이제 제일 먼저 체크하는 게 이제 그 공격 할 사람이 공격할 수 있는 상태인지 또는 그리고 대상이 이제 지금 유용한데 공격해 산인지 확인하는 부분이 먼저 들어갑니다 보시면 이제 공격할 수 있는지 확인할 때는 일단 공격력이 0이 면은 공격을 할 수 없잖아요 그래서 그 부분을 먼저 체크해 주고 그다음에 빙결 상태면 공격할 수 없으니까 체크해 주고 그다음에 이미 공격해 는 지 확인해 주고 그다음에 고백할 수 없는 태그가 붙어 있는지 확인 해 줍니다 이런식으로 공격할 수 없는 상태를 모두 체크해 주고 이제 문제가 없으면 그때서야 이제 공격할 수 있다고 반환해 주는 이런 코드들이 있구요 그 다음에 이제 유한 공격대상이 지 확인할 때는 일단 내가 공격할 수 있는 대상을 가져와서 그 대상이 이제 공격할수 이유 대상 목록 있는가를 확인해 줍니다 그 과정을 거치는데 그 과정은 보시면은 좀 길긴 한데 어 일단은 모든 하수인을 가져와서 이제 그 그은 신인 캐릭터 의신 할 수 있는 공격할 수 없잖아요 아스 속에서 그래서 이 시민 얘들은 제외 해 주고 그다음에 도반이 있으면 이제 다른 하수인 실수 없고 도발 하수인이 마칠 수 있으니까 그래도 발이 있는지 없는지도 확인해 준 다음에 도발이 있으며 는 도발 상태나 수입만 추가 해 주고요 또 발이 없으며 는 이제 하수인 이제 후보 목록에 전부 등록을 해 줘서 이제 반환해 주는 그런 형태입니다 그 다음에 아짐 악의 이제 영웅을 공격할 수 있는지 없는지도 마지막에 따 이제 확인 해 줘서 그거에 맞춰서 이제 영도 공격할 수 있는 후보 목록에 추가 하셔서 반환합니다 예 조난 과정에 겉이 구요 그래서 그런 이제 내가 공격할 수 있는 상태인지 또는 대상이 유한대 산인지 이 두 가지의 확인하고 났으며 는 이제 그 이후로 지그 처리하면 되는데 이제 내가 공격할 대상과 나의 공격력을 2 다 들고 와야 돼요 왜냐하면 우리가 하수 인가 하수인을 공격하면 은 서로 데미 수 있잖아요 그래서 2 하수인의 공개하고 둘 다 들고 온 다음에 이제 데미지를 줍니다 테크 데미지를 통해서 재미를 주고 그 다음 그 데미지가 얼마인지를 반한 봤습니다 그런 다음에 이제 보시면 밑에 보시면 이제 빙 결과 이제 독성을 차량은 부분을 볼 수 있어요 그래서 빙결 상태며 는 이제 내가 공격해 쓴 핸들 대상이 빙결 기 그 빙결 하는 그런 효과가 있다 며 는 이제 내가 공격한 다음에 어라 줘야죠 그래서 그 부분을 처리하는 거구요 그 다음에 그 하수인이 독성 있었다면 은 야 수 있는 파괴 되죠 그래서 그 부분도 이제 기쁨에 처리합니다 그다음 이제 상대 그 대상의 굉장히 0보다 컸다면 이제 대상이 나한테 좀 데미지 에 대해서 처리해 줘야 되요 그래서 그 부분에 똑같이 차량은 부분이 이 제품은 타 곁에 끼 0보다 컸을 때 아내의 있구요 그래서 그 부분에 똑같이 이제 앞에서와 같은 방식으로 처리 하구요 그 다음에 이제 내가 의 신 상태였으며 의심이 풀려야 되니까 의심의 푸는 로직을 추가해줍니다 마지막으로 이제 그리고 만약에 꼭 내가 영웅으로 공격했다 면 무기 내구도를 깎아 줘야 되구요 무기 내구도가 닦아서 끝 깎였다 면은 이제 무기를 없애주는 그는 오직 또 추가해줍니다 그 다음에 마지막으로 공격 개수를 추가해줍니다 그래서 더 이상 공격을 못하게 끔 그렇게 만든 거죠 그래서 어 마지막으로 이제 제품 처리돼 주는데 제품은 2번 공격할 수 있잖아요 그래서 질풍 여부로 따져서 이제 이해가 완전히 탈진 상태 인지 아닌지를 이제 여부를 지정 해 주고요 마지막에 이제 공격하고 나서의 그런 오오라 나 이제 관련 이제 쭉 제 가수의 죽음 처리 등 그런 것들을 이제 해주고 이제 넘어가게 됩니다 그래서 이런 식으로 이제 공격 화 수행과 영우의 공격을 이런식으로 구매할 수 있구요 사실 이 이외에도 굉장히 많은 오직 있는데 그걸 다 설명하려면 50분이 아니라 500분 해야 될 거야 아마 그래서 어 그 부분들은 이제 발표 슬라이드 에는 더 추가돼 있으니까 그걸 꼭 확인해주시기 바랍니다 하스스톤 은 사실 세부적으로 여행서 단계를 게임 진행을 갖고 있어요 내부적으로 이 데이터가 있는데 확인해 보면 크게 보면 이런 형태로 직을 취하는데 어 각각 간단하게 삶의 해보자면 은 비 킴 1st 는 이제 게임을 시작할 때 차려야 된 오직 수행하는 단계 구요 나비 게이샤 푸른 베개 있는 카드 부자 교성 는 그런 당깁니다 그 다음에 비긴 들어오는 카드 뽑는 단계보다 그래서 3 플레이어는 3장을 벗고 후 플레이하는 내장 there's 동전을 갖게 됩니다 그 다음에 b 김 어디건 단계는 이제 마음에 들지 않는 카드 선택해 되게 넣고 다시 뽑는 그런 단계 구요 그 다음에 매일 내기는 이제 영웅과 무기 하순에 공격 가능 횟수 초기 하는 단계 고요 그 다음에 인 스타즈 트리거는 턴을 시작할 때 동작하는 트리거 를 호출하는 그런 남깁니다 그다음 뭐 메인이 소스는 마나 수정을 1개 추가 하고 5 2 채우는 그런 당기고 나 메인 들어오는 이제 덱에서 카드 1장을 뽐 뽑 씁니다 그런 다음에 이제 메인 스타트를 하면은 플레이에 턴에 시작할 때 처리될 노 지구 수행하고 이제 메인이 액션을 넘어갑니다 이제 요때 이제 플레이어가 이제 어떤 행동을 할지 정할 수 있고 그것에 따라서 맞춰서 처리하는 단계 다 2단계에 요 그 다음에 메인 컴 베씨 이제 그 하수인이 상대 팩을 할 수 있나 영어 공격할 때 들어간 단기 구요 그래서 에 메인 액션과 베이컨 배씨 아무래도 프 우리가 게임 내에서 수행하는 주요 단계 라고 볼 수 있어요 그 다음에 이제 메인 핸드는 이 제품에 턴이 끝날 때 처리에 대해 노 직을 수행하고 이제 마지막으로 메인 클린 업 은 한탄만 지속되는 효과를 제거하는 통해 노 지고 수행하고 이제 메인 텍스트를 통해 상대 플레이 패턴을 넘겨라 이 형태가 이제 계속 반복되는 형태죠 그러다가 이제 어떤 영웅이 영웅의 체력이 0 이하로 되면 그때 서 이제 개인의 승패를 처제는 파이날 내 법이란 단계가 들어가게 되고 이제 마지막으로 파이널 게이머 뭐 단계를 들어가서 이제 게임과 관련된 데이터를 정리하고 종료하는 그런 단계를 씨입니다 그래서 크게 6가지의 단계가 있구요 어 카스트 게임 집에는 진행은 크게 이제 예제 코드가 비기 샤프 단계가 있구요 그래서 피셔 플레이 단계 예제 보면은 이제 간단하게 이제 샤프 할건지 여부 지정 한 다음에 셔플을 할꺼면 이제 각 플레이어의 댁에서 샤프를 진행하는 이런 그냥 같단 오직 또는 소리 라구요 맨스타 트리가 단계를 예시도 보면은 이제 그 트리가 매니저 에서 온 스타트 턴 트리거 라고 해서 이제 스탁 게이 턴이 시작될 때 이제 트리거 조직들 처리하는 함수 가 있어요 그 부분을 소추 해주고 그와 갔는데 태스크에 처리하고 또 그 트리거로 인해서 이제 하순이 추가 추가 쓰면 은 이제 또 처리해 줘야 되자 4 그래서 프로세스 디스트 & 업데이터 오라는 감소 쪽에서 그 부분 처리 해줍니다 그래서 이러한 형태도 각 단계가 달 구현이 되어있습니다 그래서 이렇게 하스스톤 이 이렇게 구현이 되구요 그래서 이렇게 구현을 하스스톤 가지고 이제 우리가 진짜 하려는 것은 이 거잖아요 근데 사실 배보다 배꼽이 좀 더 큰 상황이에요 어떻게 보면 근데 이제 다시 배워서 배꼽이 더 큰 상황에서도 이제 배를 우리가 원하는것 배웠으니까 이제 배를 좀 구현을 보려고 했습니다 그래서 지금까지 우리는 하스스톤 게임 을 만들었어요 근데 이제 우리의 목표는 ai 가 하우스 게임 하도록 만든 거잖아요 그래서 ai 가 게임 할 수 있게 만들어 줘야 되는데 두 가지가 크게 문제에요 ai 가 행동을 하기 위한 통로를 만들어야 되고 결정한 값을 개인의 전달할 수 있어야 되요 이 두가지를 조건의 해결하면 소위 정체 큰 쓰다는 걸 만들어 줘야 되는데 이 이미 행동하는 성채 클래스의 따 만들 수 있어요 어 그래서 우리는 이제 소희 이제 뭔가 이제 뭐 카드 선택하고 어떤걸 내고 유턴을 종료하고 이런 것들은 행동을 이제 이야기할 수 쪽 만들기 위해서 통로를 만들었는데 그게 이제 소위 정 체크도 쓰고요 정체 클래스의 있다 인터페이스 부터 구현 했어요 크게 보면 은 세 가지 함수가 있는데 넥스트 함수 그러니 카일 암수 디파이 함수가 있어요 2 각 함수가 하는 역할은 넥스트 함수는 이제 게임에서 다음해 수행한 행동을 다 안하세요 뭐 이제 카드 내기 또는 하수인을 공격하기 카드 멀리건 모턴 종료 이런 것들 이제 행동을 반항하는 그런 넥스트 함수가 있구요 미카엘 함수는 뭐냐면은 지금 하면 행동에 대해 필요한 정보를 만남 써요 그래서 하 수 있는 공격하려면 현재 필드가 어떤 상태인지 알아야 되잖아요 그런 정보를 받을 수 있는 리카 예안 수가 있고요 그 다음에 이제 높이 파이 함수가 있는데 이거는 이제 게임에서 발생한 부가정보를 증명한 해서 보내는 거예요 예로 들어서 뭐 플레이어 핸드에 카드가 1장 이 넘어서 카드가 답답한 정보 같은거도 이제 보내준 역할을 하는 거죠 그래서 이런 세가지 한술 군함 되구요 이 세가지 함수를 구현해 이제 또 랜덤 폴리시 예제는 또 발표 싸이 된 추가 해 줬으니까 이제 그거 참고해주시면 좋을 것 같구요 의원 정차 클래스 저희가 구현하고 이제 진짜 붙이기 위해서 파이프 시프 api 연동을 시작했어요 파이터 치는 이제 파이썬 기반의 오픈 소스 머신 러닝 라이브러리 인데요 이제 시프 베이 pia 를 지원하고 요 그래서 그 시피 기반이 머신 러닝 설계의 굉장 이용해서 저희는 파이 토스 cv pi 를 사용했구요 그래서 이걸 기반으로 도 노제 터치 라는 프로젝트 만들었어요 이것은 뭐냐면은 이제 파이 토치 10 읍 api 기반 정책을 위한 프로젝트 구요 그래서 게임의 상태를 받아서 쉽 현재 취할수 있는 행동을 선별하고 게임의 상태 정보를 추 앞에서 벡터로 표현하고 그 다음에 현재 취할 수 있는 행동 게임 벡터 레비가 너 이제 다음 행동을 추천하구요 그 다음에 다음 행동에 정책 인터페이스 저희가 까지의 만드는 아이 폴리시 같은 것을 통해서 이제 게임을 전달해준 그런 프로젝트입니다 크게는 4가지로 구성이 되어 있는데요 그래서 터치 폴리시 라고 정체 클래스가 있고 역시 그 다음에 더벨 오버액션 이라고 이제 현재 게임 상태에서 취하시는 행동부터 밝고 1 모델 베이스 라고 파이터즈 기반 김윤진 로즈 있구요 그럼 게임 트 100 이라고 해서 게임 상태를 벡터로 취합하는 인터페이스 했습니다 그래서 크게 구조를 보자면 은 이제 파이프 7일 출원하는 모두 뵐 수가 있고요 그 다음에 터치 폴리스의 보면 이제 게임에 있는 모든 정보를 벡터로 만들어서 보내는 게임 트 102 있고 그 다음에 이제 웹스터 해보면 이제 게임이 있고 그 다음에 게임에서 수행 가능 행동들 모은 업의 더 백수현 이 있습니다 이렇게 나눠서 보면 되겠고 그래서 터치 플리 씬을 역시 아이폰 pc 를 상속받는 베이지 폴리시 글 다시 상속받은 그 형태의 들진 이구요 그래서 그 그 이렇게 4 전부가 구현되어 있고 모델 베이스 같은 경우에는 이제 턱 터치의 이제는 인터페이스 세븐 모두 이라는 클래스가 있는데 얘는 상속받을 모드 크 될 수 있고요 그 현재 발생 가능한 행동 벡터와 게임 상태 벡터 입력으로 밭은 다음에 이제 행정 벡터 같은 크기의 향유 벡터를 받았네요 그래서 터치 4g 시에서는 이 중 가장 큰 황 윤 희 학년이 부여된 행동을 이제 게임에서 박 방학으로 그렇게 만들어져 있습니다 그래서 그걸 이제 포드 함수 안에서 구현해 주면 되구요 이 게임 투 백 이란 클래스 는 그 게임 상태를 추 합해서 뱉어 로 만들어 인터페이스가 요 그 상대 그 벡터의 크게 형태는 무관하고 이제 취합된 빅터는 발생 가능한 액션 목록과 함께 이 제출 하는데 이용이 되는 돼요 그래서 이 정보가 굉장히 중요하죠 그래서 제 더 히트 텐 서로 이제 벡터를 만들어주면 되는데 이 사실 게임 트 벡터가 1 굉장히 중요하죠 왜냐하면 이제 게임 실행 중 알 수 있는 모든 정보로 이제 실제로 보내줘야 되니까 그래서 게임실행 지금 우리가 이 지 알 수 있는 정보를 어떻게 중에는 어떤 게 있는지 확인해 봐야 되는데 사실 우리가 알 수 있는 정보는 크게 지금 표시해 둔 부분이죠 그리고 필드 의상 택 그 다음에 또는 상대방의 이제 데크 핸드에 몇장 있는가 그 다음에 상대방 되게 몇 장 남아 있는 겁니까 그 다음에 내게 몇 장 남아 있고 내 핸드가 어떤 상태인지 넌 것들을 우리가 현재 게임이 안에서 할 수 있죠 그래서 이제 우리가 알 수 있는 것들은 이렇게 될 것입니다 어 그래서 3 이제 나와 상대방의 손과 되게 있는 카드 장수는 스파스 값이 니까 이 젠 엑스 캅 쏘 나눠서 그야 0과 1 사이의 값을 받도록 정규 와 해줬구요 그래서 & 사이즈 맥스 100사이즈 만큼 나눠줘서 그래서 0과 1 사이의 값을 무조건 갖도록 함께 만드셨습니다 그 다음에 이제 많아 비용 공격력 체력 값도 역시 0과 1 사이의 값을 각도 정교한 해줬는데 어 사실 그 그때 이제 왜냐면 체력은 사실 무한 하잖아요 그 카스텔 보면 사실 무 한테 앨리스 속에 소 21억 또 놓일 수 있고 그랬거든요 근데 그런 값들은 크게 의미가 없다고 판단해서 64 이상은 그냥 이기도 그냥 고정 했구요 64 1 돌아누운 값에 그냥 채택 아 그랬어요 그래서 일과 64 범위 내에서 영과 이 사이에 옥 정 좋아도 그렇게 작업을 했구요 그 다음에 이제 효과와 관련된 정보를 어떻게 더 편할까 가 되게 중요했는데 으 가격과 정보를 인덱싱 한 뒤에 인 베딩 누가 테이블에서 벡터를 검색하도록 그렇게 구현 했구요 어 뭐 여러 들어서 이팩트 에는 변수로 이제 게임 태그와 이펙트 오퍼레이터 라는게 있는데요 뭐 열어서 게임 태그의 공격력이 고 이펙트 of its c3 이 라면은 1 곱하기 3을 해서 3번 인텍스 통해 벡터 살 수 있게끔 그렇게 누가 테이블을 만들어 졌구요 그래서 이런 것들을 종합해서 백태 전체 크기를 보자면 업데이트 토 벡터가 25차 원 이구요 그 다음은 카드 토 벡터가 28 차원 이라서 게이트 벡터에 들어가는 모든 차원은 개국 카드 저술한 이제 관련되서 모두 더해져서 675 차원 정도가 됩니다 그래서 현재는 게임을 편할 때 벡터가 버터가 675 차원 이에요 그래서 이렇게 구현 되어 있구요 그래서 정리해보자면 은 그 올해 터치를 통해서 저희는 파이터 제 10부 papa 기반의 정책을 구현했고 이제 여기 명의 아버지는 활용해서 하스스톤의 정책을 결정해 보고 그 결과 더 데이터로 알고 이즘 학습 환경이 거의 완성 단계에 있구요 그 게임 상태의 추아 파는 게임 쪽 100 그 다음에 c 때 춘 오늘 진행한 모드 베이스 글 수정 할 수 있구요 그걸 통해서 이제 우리가 뭐 알고 있는 학습 기법 에도 새로 학습 기법을 적용해 볼 수 있는 환경을 그렇게 갖추고 있습니다 그래서 현재까지 개발 진행 상황을 보자면 은 어이 소스는 오픈 소스 에요 참고로 그래서 여러분들도 기여를 하실 수 있구요 현재 그래서 하스스톤 시뮬레이터와 강 악습 환경을 제공하는 그런 프로젝트 고 라이선스 hp v3 에 따르고 있고 어 작성언어 시프 97도 구현되어 있습니다 그렇지만 컴파일러는 다음과 같구요 그 프로젝트 구조는 이제 노래 타 스 톤 노작 콘 스 의 앱 같이 ui 로 에 터치 왜 타투 이렇게 5가지로 그리 구성이 될 거야 그래서 나이 그러니 핵심인 일어 테스토니 있고 그 다음에 코스 프로그램과 gui 프로그램이 따로 있습니다 그래서 11 에서 할 수 있게끔 만들어 졌고 그 다음에 강아 습이 에서 정책을 구현할 수 있는 라이벌이 가 따로 있고 이제 그냥 부가적으로 만든 툴 프로그램이 아더 있습니다 현재는 그 옷이 늘 카드 부터 구현하고 있는 단계 고요 전자의 온실 카드 베이직 카드 등 거의 다 완성이 되어있는 상태고 어 베이지 카드가 구현이 모두 완료되는 대로 클래식 카드들을 그러나 생각해요 그 다음에 이제 이제 나머지 확장팩 뜰의 차례로 9 10 나가 생각이고요 강 학습을 현재 정체 클래스 는 9 양이 모두 끝났고 하이터치 싶을 api 연동 되는 것도 이 확인이 되어 있구요 그 정보 전달 함수 구현 을 마무리 하고 있는데 게임 트 백은 온 아침에 뭐지 됐어요 그래서 업 앤 러브 액션 막 부연하면 될 것 같구요 그 다음에 다음 달 중 문화 맛집 퀘는 실제로 붙여보는 예제를 아 막 공개할 수 있을 것 같아요 그래서 5월달 중에 아 막 공개를 할 예정이고요 앞으로의 계획은 모든 카드를 구현 할 거고요 저희는 그래서 오지나 카드와 정규 전에 사용하는 카드 우선적으로 구현 하되 이후 야생 전 에서 사용하는 카드 좀 차례대로 구나 생각이고 그 다음에 커서 lg 할 프로그램 지금 조금 이제 문제가 있는데 그 부분도 개성에서 a 아야 대적할 수 있겠죠 만들려고 해요 그 다음에 다낭에서 사용할 수 있도록 api 도 좀 만 든 생각인데 일단 우선적으로 생각하고 있는 것은 이 제발 선입니다 그 다음에 이제 리어스 톤이나 하는 팀이 있는데 그 팀과 협력해서 실제 기기도 대전할 수 있게끔 좀 만들 생각이에요 보신분들은 있을지 모르겠지만 이렇게 아주 이너로 실제 하스스톤 하드웨어를 만드는 팀이 있고요 예 저좀 2 제어 작년 하는데 고등학생 분들이 에서 깜짝 놀랬어요 그래서 이 분들과 만나서 얘기를 했고 이제 2분들도 어차피 소프트웨어가 필러 서 그런 부분 자기가 좀 지원해 드리겠습니다 그래서 실제 하드웨어 기기로 좀 만나 볼 수 있게끔 준비를 해보려고 하구요 네 그래서 어느덧 시간이 거의 다 됐는데요 정리해보자면 바라네요 예 게임에서 이 폐하의 제공한다면 40 강 악수 되게 편하게 연구할 수 있어요 스타크래프트 처럼 말이죠 그런데 제공하지 않으면 힘들지만 사실 게임 부터 직접 만드는 그런 수분을 좀 많이 들여야 됩니다 그 다음에 게임을 만든 작업이 끝나면 이제 강 학습의 위한 또 작업을 별도로 해야 됩니다 그래서 행동을 대처할 수 있도록 ai 에 게임을 정보를 전달한 함수가 이제 이 아이가 힘 개장한 행동을 게임이 전달 함수를 구현해 줘야 되요 이때 이제 테스 포도나 파이프 치 와 연동하기 위해 정보를 변환 해야 되구요 그래서 이 작업까지 끝나야 이제 우리가 진짜 비로소 하던 강 학습을 연구를 할 수 있게 됩니다 그래서 내년에 기회가 된다면 이제 강 아스 시절 연구한 결과를 가지고 파트 투 를 발표해 쓰면 좋을 것 같아요 예 4 발표 여기까지 글 네트워 주셔서 감사합니다 예 [박수]